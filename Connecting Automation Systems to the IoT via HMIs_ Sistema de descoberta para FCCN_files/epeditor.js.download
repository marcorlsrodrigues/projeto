(function(a){a.widget("ui.epeditor",{options:{toolbarOptions:null,height:null},_create:function(){ep.debug("initializing ckeditor");var b=[];if(this.options.toolbarOptions!==null){b=this.options.toolbarOptions;}else{b=[["Bold","Italic","Underline","-","Undo","Redo"]];}if("rtl"===a("html").attr("dir")){b[0].push("-");b[0].push("BidiLtr");b[0].push("BidiRtl");}var c=(a("html").attr("lang"))?a("html").attr("lang"):null;var d={toolbar:b,skin:"epskin"};if(this.element.data("important")){d.toolbar=[{name:"basicstyles",items:["Bold","Italic","Underline"]},{name:"links",items:["Link","Unlink"]}];}if(this.options.height!==null){d.height=this.options.height;}CKEDITOR.on("instanceReady",function(e){a("iframe.cke_wysiwyg_frame",e.editor.container.$).contents().on("click",function(){e.editor.focus();});});this.element.ckeditor(a.noop,d);},_init:function(){this.editorInterval=setInterval(function(){a(window).trigger("editorIntervalCheck");},500);this.element.ckeditor(function(){this.focus();});},destroy:function(){clearInterval(this.editorInterval);var b=this;b.element.ckeditor(function(){this.destroy();});a.Widget.prototype.destroy.call(b);}});})(jQuery);