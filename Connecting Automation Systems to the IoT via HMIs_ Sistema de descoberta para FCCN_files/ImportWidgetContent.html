<!DOCTYPE html>
<!-- saved from url=(0102)https://jcr.incites.thomsonreuters.com/JCRJournalProfileAction.action?pg=JRNLPROF&issn=0024-9114&year= -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" class="x-border-box x-strict"><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
        
        <title>InCites™</title>
        
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width">
        <meta name="description" content="InCites™ is a customized, citation-based research analytics tool on the Web that enables you to evaluate institutional productivity and benchmark your output against peers worldwide.">
        <meta name="author" content="Thomson Reuters">
        <link href="https://jcr.incites.thomsonreuters.com/common/favicon/InCites2_favicon.ico" rel="icon" type="image/x-icon">
        <link href="https://jcr.incites.thomsonreuters.com/common/favicon/InCites2_favicon.ico" rel="shortcut icon" type="image/x-icon">
    <script type="text/javascript" src="./JournalProfile.js.download"></script><script type="text/javascript" src="./CategoryInformation.js.download"></script><script type="text/javascript" src="./JournalInformation.js.download"></script><script type="text/javascript" src="./JournalInformationGrid.js.download"></script><script type="text/javascript" src="./AggCited.js.download"></script><script type="text/javascript" src="./AggregateCited.js.download"></script><script type="text/javascript" src="./AggregateCiting.js.download"></script><script type="text/javascript" src="./JournalProfile.js(1).download"></script><script type="text/javascript" src="./JCRImpactFactor.js.download"></script><script type="text/javascript" src="./ESITotalCitations.js.download"></script><script type="text/javascript" src="./AggCiting.js.download"></script><script type="text/javascript" src="./TrendComparisonChartStore.js.download"></script><script type="text/javascript" src="./CategoryInformation.js(1).download"></script><script type="text/javascript" src="./JournalInformation.js(1).download"></script><script type="text/javascript" src="./JournalInformationGrid.js(1).download"></script><script type="text/javascript" src="./AggregateCited.js(1).download"></script><script type="text/javascript" src="./AggregateCiting.js(1).download"></script><script type="text/javascript" src="./JournalProfile.js(2).download"></script><script type="text/javascript" src="./JCRImpactFactor.js(1).download"></script><script type="text/javascript" src="./ESITotalCitations.js(1).download"></script></head>
    <body class="x-body x-webkit x-chrome" id="ext-gen1018">
        <div class="loginWrap">
            <!-- Begin: InCites: Header-->
            




    <title>InCites™</title>
    <link rel="stylesheet" type="text/css" href="./select2.css">
    <link rel="stylesheet" type="text/css" href="./main.css">	


    <div class="skip-content">
        <a title="Skip to Content" href="https://jcr.incites.thomsonreuters.com/JCRJournalProfileAction.action?pg=JRNLPROF&amp;issn=0024-9114&amp;year=#skip-to-content">Skip to Content</a>
        <a title="Skip to Footer" href="https://jcr.incites.thomsonreuters.com/JCRJournalProfileAction.action?pg=JRNLPROF&amp;issn=0024-9114&amp;year=#skip-to-footer">Skip to Footer</a>
    </div>
    <div class="main-container">
        <div class="navBar clearfix">
            <div class="l-wrapper-width">
                <ul class="globalLinks nav-list">
                    <li class="nav-item"><a title="Web of Science™" alt="Web of Science™" class="nav-link" href="http://apps.webofknowledge.com/">Web of Science<sup>™</sup></a></li>
                    <li class="nav-item"><a title="InCites™" alt="InCites™" class="nav-link" href="http://incites.thomsonreuters.com/">InCites™</a></li>
                    <li class="nav-item"><a title="Journal Citation Reports®" alt="Journal Citation Reports®" class="nav-link active-navBar" href="http://jcr.incites.thomsonreuters.com/JCRJournalHomeAction.action">Journal Citation Reports<sup>®</sup></a></li>
                    <li class="nav-item" onclick="clearResearchFieldsFilterValues()"><a title="Essential Science Indicators&#8480;" alt="Essential Science Indicators&#8480;" class="nav-link " href="http://esi.incites.thomsonreuters.com/IndicatorsAction.action">Essential Science Indicators<sup class="sup01">SM</sup></a></li>

                    <li class="nav-item"><a title="EndNote™" alt="EndNote™" class="nav-link" href="http://www.myendnoteweb.com/">EndNote<sup>™</sup></a></li>
                </ul>
                <ul class="userCabinet nav-list">
                    
                    
                        <li class="nav-item user"><a title="Sign In" class="nav-link user-name has-subnav" href="javascript: void(0)">Sign In<i class="icon-arrow">&nbsp;</i></a>
                        <ul class="subnav">
                                <!-- <li class="subnav-item"><a title="My Settings" class="subnav-link" href="MyAccount.action"><i class="icon-my-settings"></i>My Settings</a></li> -->
                                <li>
								<div class="subnav-item"><a title="Sign In" alt="Sign In" class="subnav-link" href="https://jcr.incites.thomsonreuters.com/personalize.action"><i class="icon-my-settings"></i>Sign In</a></div>
								<div class="subnav-item"><a title="Register" alt="Register" class="subnav-link" href="https://jcr.incites.thomsonreuters.com/nextgenregistration.action"><i class="icon-register"></i>Register</a></div>
								<div class="subnav-item"><a title="Log Out" alt="Log Out" class="subnav-link" href="https://jcr.incites.thomsonreuters.com/logout.action"><i class="icon-sign-out"></i>Log Out</a></div>
								</li>
                            </ul>
                        </li>
                    
                    <li class="nav-item"><a title="Help" target="_blank" class="nav-link" href="http://ipscience-help.thomsonreuters.com/incitesLiveJCR/JCRGroup/jcrOverview.html">Help</a></li>
                    <li class="nav-item"><a title="English" class="nav-link has-subnav" href="javascript: void(0)">English</a></li>
                </ul>
            </div>
        </div>
        <script type="text/javascript">
            var isUserUNPLoggedIn = false
        </script>

            <!-- End: InCites: Header-->
            <!--begin Menubar-->
            



    <script>var currentyear = "2015";</script>
	<script>var lastFiveYears = "2010";</script>
	<script>var helpContextURL = "http://ipscience-help.thomsonreuters.com/incitesLiveJCR/JCRGroup/";</script>
    <link rel="stylesheet" type="text/css" href="./ESItheme-all.css">
    <link rel="stylesheet" type="text/css" href="./JCR.css">
    <!--[if lte IE 9]>
        <link rel="stylesheet" href="common/css/ie8.css" type="text/css" />
    <![endif]-->
	<script type="text/javascript">
	function isLoggedInFolder() {
        function decision(buttonId) {
            if (buttonId == "yes") {
                window.location = "personalize.action";
            }
        }
    Ext.MessageBox.confirm('Login', 'You are not logged-in to perform this action. Do you want to login now?', decision);
    }
	</script>


    <!-- START: [ LOGO, BREADCRUMB, EXPORT, MY FOLDERs & DOWNLOAD ] -->
    <div class="logoBar">
        <div class="l-wrapper-width">
          
            <h1 class="titleh1"><a title="InCites™ Journal Citation Reports®" alt="InCites™ Journal Citation Reports®" href="http://jcr.incites.thomsonreuters.com/JCRJournalHomeAction.action">
                <img src="./jcr_logo.png"></a></h1>
          
          
          
          <span><img alt="Thomson Reuters" title="Thomson Reuters" src="./trlogo.png"></span>
        </div>
    </div>
    <div class="action-panel detail">
        <div class="l-wrapper-width">
            <div class="action-panel-main">
             <span id="action_breadcrumb">
                 <ul class="breadCrumbs">
                     <div id="breadScrumb" style="width:960px;"><table class="x-field x-table-plain x-form-item x-field-default" cellpadding="0" id="breadScrumb" style="table-layout: auto;"><tbody><tr id="breadScrumb-inputRow"><td id="breadScrumb-labelCell" style="display:none;" valign="top" halign="left" width="105" class="x-field-label-cell"><label id="breadScrumb-labelEl" for="breadScrumb-inputEl" class="x-form-item-label x-unselectable x-form-item-label-left" style="width:100px;margin-right:5px;" unselectable="on"></label></td><td class="x-form-item-body " id="breadScrumb-bodyEl" colspan="3" role="presentation"><div id="breadScrumb-inputEl" class="x-form-display-field" aria-invalid="false" data-errorqtip=""><li><a title="Home" alt="Home">Home</a></li></div></td></tr></tbody></table></div>
                 </ul>
             </span>
            </div>
            <div class="actions">
              <span id="action_export">
                  <a href="javascript:void(0)" class="action-download icon icon-download" title="Download" alt="Download"></a>
                  <div class="popup-source">
                     <div class="popup-action-header"><span>Select download format</span></div>
                     <ul class="popup-action-content">
                     	<li class="popup-policy-text"><div>By exporting the selected data, you agree to the data usage policy set forth in the&nbsp;<a class="popup-policy-text" href="http://wokinfo.com/terms/"><u>Terms of Use</u></a></div></li>
                        <li onclick="exportPDF()" class="first" style="cursor:pointer;"><a href="javascript:void(0);">PDF</a></li>
                        <li onclick="exportCSV()" style="cursor:pointer;"><a href="javascript:void(0);">CSV</a></li>
                        <li onclick="exportXLS()" style="cursor:pointer;"><a href="javascript:void(0);">XLS</a></li>
                    </ul>
                </div>
              </span>
              
              
                 <a href="https://jcr.incites.thomsonreuters.com/JCRJournalProfileAction.action?pg=JRNLPROF&amp;issn=0024-9114&amp;year=#" onclick="isLoggedInFolder();" class="icon icon-savetofolder" title="View, edit, and delete my custom report selections" alt="View, edit, and delete my custom report selections"></a>
              
              <!-- JHS - 012115 - Remove the condition about esi for the Saved Sets page - IC-8023 -->
              <!-- user.activeMenu != 'esi'" -->
              
            </div>
            <div id="journalInfo"></div>
        </div>
    </div>
    <!-- END: [ LOGO, BREADCRUMB, EXPORT, MY FOLDERs & DOWNLOAD ] -->
    <script type="text/javascript" src="./jquery.js(1).download"></script>
    <script type="text/javascript" src="./select2.js.download"></script>
    <script type="text/javascript" src="./main.js.download"></script>
    <script type="text/javascript" src="./ext-all.js.download"></script>
    <script type="text/javascript" src="./JCRCommon.js.download"></script>
    <script type="text/javascript">
    </script>

            <!--end Menubar-->
            <!--begin content-->
            



    <!-- Including default styles of ext js -->
    <link rel="stylesheet" type="text/css" href="./BoxSelect.css">
    <link rel="stylesheet" type="text/css" href="./d3.css">
    <!-- Default Theme -->
	
    <script>
	var JCRJournalYear = "2012";
    $(document).ready(function getLastUpdateDateDatasetSession() {
	    	$('.footer-part.data-update-date').text(localStorage.getItem("lastUpdateDateDatasetTextJCR"));
	    });
    function validateAlert(){
		alert('Documents non exisiting prior to '+ JCRJournalYear);
		return false;
    }
    </script>


    <div class="main-container">

        <div class="l-body l-body2">
            <div id="skip-to-content" class="l-wrapper">
                <div class="l-wrapper-width">
                 <div class="block-data">
                                    <div class="block-caption">Key Indicators</div>
                                    <div id="journalProfileGrid" style="float:false;" height="490px" width="100%"></div>
                                </div>
                    <div class="l-wrapper-content" id="journalSidePanelDiv">
                        <div class="l-column-sidebar">
                            <ul class="Journal-sidepanel">
                                <li><a id="link_sourceData" href="javascript:void(0);" onclick="displayJournalOverview()">Source Data </a></li>
                                <li><a id="link_rank" href="javascript:void(0);" onclick="displayRank()">Rank</a></li>
                                <li><a id="link_citedJournalData" href="javascript:void(0);" onclick="displayCitedJournalData()">Cited Journal Data</a></li>
                                <li><a id="link_citingJournalData" href="javascript:void(0);" onclick="displayCitingJournalData()">Citing Journal Data</a></li>
                                <li><a id="link_journalBoxplot" href="javascript:void(0);" onclick="displayBoxplot()">Box Plot</a></li>
                                <!-- <li><a id="link_egoNetwork" href="javascript:void(0);" onClick="displayEgoNetwork()">Ego Network</a></li>-->
                                <li><a id="link_chordNetwork" href="javascript:void(0);" onclick="displayChordNetwork()">Journal Relationships</a></li>
                            </ul>
                        </div>

                        <!-- START: [JOURNAL SOURCE DATA & KEY INDICATORS] -->
                        <div class="l-column-content" id="section_journalOverview" style="display: none;">
                            <div class="content-body">
                                <div class="block-data">
                                    <div class="block-caption">Journal Source Data<i class="icon-i-light" onclick="window.open(JCR_HELP_URLS.journalInformationHtml, &#39;help_window&#39;);" style="float: right;margin-right: 10px;margin-top: 5px;"></i></div>
                                    <div id="journalSourceData" class="journalSourceData"></div>
                                </div>
                            <div class="footer-part data-update-date" id="updateDateDatasetJCR">InCites Journal Citation Reports dataset updated Sep 02, 2016</div></div>
                        </div>
                        <!-- END: [JOURNAL SOURCE DATA & KEY INDICATORS] -->

                        <!-- START: [AGGREGATE CITED CATEGORY DATA]-->
                        <div class="l-column-content" id="section_aggCitedJournalData" style="display: none;">
                            <div class="content-body" id="content-body-id3">
                                <div class="block-data">
                                    <div class="block-caption">Cited Half-Life Data <i class="icon-i-light" onclick="window.open(JCR_HELP_URLS.journalCitedHtml, &#39;help_window&#39;);" style="float: right;margin-right: 10px;margin-top: 5px;"></i>
                                    </div>
                                    <div id="aggregatedCitedJournalData" style="width: 715px; height: 85px;"></div>
                                </div>
                                <div class="block-data block-data-columns">
                                    <div class="block-data-column">
                                        <div class="tile"><i class="icon-i-dark" onclick="window.open(JCR_HELP_URLS.journalCitedHtml, &#39;help_window&#39;);" style="float: right;margin-right: 10px;margin-top: 5px;"></i>
                                            <div class="tile-header"><h3>Cited Journal Graph</h3></div>
                                            <div id="aggregateCited" style="width: 468px; height: 400px;"></div>
                                        </div>
                                    </div>
                                    <div class="block-data-column">
                                        <div class="block-text"><h3>CITED JOURNAL GRAPH</h3><h3></h3>
                                            <p>The Cited Journal Graph shows the distribution (by cited year) of citations published in 
                                            journals during the JCR year to items published in the Journal during the last 10 years.</p><h3></h3>
                                            <ul>
                                                <li><p>The white/grey division indicates the cited half-life (if &lt; 10.0). Half of the citations
                                                are to items that were published more recently than the cited half-life.</p></li><h3></h3>
                                                <li><p>The two light-orange columns indicate citations used to calculate the Impact Factor
                                                 (always the 2nd and 3rd columns).</p></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="block-data">
                                    <div class="block-caption">Cited Journal Data
                                     <i class="icon-i-light" onclick="window.open(JCR_HELP_URLS.journalCitedHtml, &#39;help_window&#39;);" style="float: right;margin-right: 10px;margin-top: 5px;"></i>
                                    </div>
                                    <div id="citedJournalData" style="width: 715px; height: 400px;"></div>
                                </div>
                            <div class="footer-part data-update-date" id="updateDateDatasetJCR">InCites Journal Citation Reports dataset updated Sep 02, 2016</div></div>
                        </div>
                        <!-- END: [AGGREGATE CITED CATEGORY DATA]-->

                        <!-- START: [AGGREGATE CITING CATEGORY DATA]-->
                        <div class="l-column-content" id="section_aggCitingJournalData" style="display: none;">
                            <div class="content-body" id="content-body-id2">
                                <div class="block-data">
                                    <div class="block-caption">Citing Half-Life Data <i class="icon-i-light" onclick="window.open(JCR_HELP_URLS.journalCitingHtml, &#39;help_window&#39;);" style="float: right;margin-right: 10px;margin-top: 5px;"></i>
                                    </div>
                                    <div id="aggregatedCitingJournalData" style="width: 715px; height: 85px;"></div>
                                </div>
                                <div class="block-data block-data-columns">
                                    <div class="block-data-column">
                                        <div class="tile"> <i class="icon-i-dark" onclick="window.open(JCR_HELP_URLS.journalCitingHtml, &#39;help_window&#39;);" style="float: right;margin-right: 10px;margin-top: 5px;"></i>
                                            <div class="tile-header"><h3>Citing Journal Graph</h3></div>
                                            <div id="aggregateCitingGph" style="width: 468px; height: 400px;"></div>
                                        </div>
                                    </div>
                                    <div class="block-data-column">
                                        <div class="block-text">
                                            <h3>CITING JOURNAL GRAPH</h3><h3></h3>
                                            <p>The Citing Journal Graph shows the distribution (by cited year) of citations published in 
                                            the Journal during the JCR year to items published in journals during the last 10 years.</p><h3></h3>
                                            <ul>
                                                <li><p>The white/grey division indicates the citing half-life (if &lt; 10.0). Half of the citations are to items that were published
                                                more recently than the citing half-life.</p></li><h3></h3>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="block-data">
                                    <div class="block-caption">Citing Journal Data <i class="icon-i-light" onclick="window.open(JCR_HELP_URLS.journalCitingHtml, &#39;help_window&#39;);" style="float: right;margin-right: 10px;margin-top: 5px;"></i>
                                    </div>
                                    <div id="citingJournalData" style="width: 715px; height: 400px;"></div>
                                </div>
                            <div class="footer-part data-update-date" id="updateDateDatasetJCR">InCites Journal Citation Reports dataset updated Sep 02, 2016</div></div>
                        </div>
                        <!-- END: [AGGREGATE CITING CATEGORY DATA]-->

                        <!-- Start: [Rank]-->
                        <div class="l-column-content" id="section_rank" style="display: none;">
                            <div class="content-body">
                                <div class="block-data block-data-columns">
                                    <div class="block-data-column">
                                        <div class="tile"><i class="icon-i-dark" onclick="window.open(JCR_HELP_URLS.journalRankHtml, &#39;help_window&#39;);" style="float: right;margin-left: 10px;"></i>
                                            <div class="tile-header"><h3>JCR Impact Factor</h3></div>
                                            <div id="jcr_impact_factor" class="title-content" style="width: 715px; height: 400px;"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="block-data block-data-columns">
                                    <div class="block-data-column">
                                        <div class="tile"><i class="icon-i-dark" onclick="window.open(JCR_HELP_URLS.journalRankHtml, &#39;help_window&#39;);" style="float: right;margin-right: 10px;margin-top: 5px;"></i>
                                            <div class="tile-header"><h3>ESI Total Citations</h3></div>
                                            <div id="esi_total_citations" class="title-content" style="width: 715px; height: 400px;"></div>
                                        </div>
                                    </div>
                                </div>
                            <div class="footer-part data-update-date" id="updateDateDatasetJCR">InCites Journal Citation Reports dataset updated Sep 02, 2016</div></div>
                        </div>
                        <!-- END: [Rank]-->

                        <!-- START: [Boxplot]-->
                        <div class="l-column-content" id="section_journalBoxplot" style="display:none;">
                            <div class="content-body">
                                <div class="block-data block-data-columns">
                                    <div class="block-data-column">
                                        <div class="tile"><i class="icon-i-dark" onclick="window.open(JCR_HELP_URLS.journalBoxPlotHtml, &#39;help_window&#39;);" style="float: right;margin-right: 10px;"></i>
                                            <div class="tile-header"><h3>Category Box Plot</h3></div>
                                            <div id="boxplot" class="title-content"></div>
                                        </div>
                                    </div>
                                    <div class="block-data-column">
                                        <div class="block-text">
                                            <h2>Category Box Plot</h2><br><br>
                                            <p></p><div id="main">
                                            <p>The category box plot depicts
                                            the distribution of Impact Factors for all
                                            journals in the category. The horizontal line that forms the top of the box is
                                            the 75th percentile (Q<sub>1</sub>). The horizontal line that forms the bottom
                                            is the 25th percentile (Q<sub>3</sub>). The horizontal line that intersects the
                                            box is the median Impact Factor for the category.</p>
                                            <p>Horizontal lines above and below the box, called&nbsp;<em>whiskers</em>, represent
                                            maximum and minimum values.</p>
                                            <p>The top whisker is the smaller of the following two values:</p>
                                            <ul><li>the maximum Impact Factor (IF)</li>
                                            <li>Q<sub>1</sub>&nbsp;IF + 3.5(Q<sub>1</sub>&nbsp;IF - Q<sub>3</sub>&nbsp;IF)</li>
                                            </ul><p>The bottom whisker is the larger of the following two values:</p>
                                            <ul><li>the minimum Impact Factor (IF)</li>
                                            <li>Q<sub>1</sub>&nbsp;IF - 3.5(Q<sub>1</sub>&nbsp;IF - Q<sub>3</sub>&nbsp;IF)</li>
                                            </ul>
                                            <p>Box Plots are provided for the current JCR year for each of the
                                            categories in which the journal is indexed.</p></div><p></p>
                                        </div>
                                    </div>
                                </div>
                            <div class="footer-part data-update-date" id="updateDateDatasetJCR">InCites Journal Citation Reports dataset updated Sep 02, 2016</div></div>
                        </div>
                        <!-- END: [Boxplot]-->

                        <!-- START: [EgoNetwork]-->
                        <div class="l-column-content" id="section_egoNetwork" style="display:none;">
                            <div class="content-body">
                                <div class="block-data block-data-columns">
                                    <div class="block-data-column">
                                        <div class="tile"><i class="icon-i-dark" onclick="window.open(JCR_HELP_URLS.journalEgoNetworkHtml, &#39;help_window&#39;);" style="float: right;margin-right: 10px;"></i>
                                            <div class="tile-header"><h3>Ego Network </h3></div>
                                            <div id="ego" class="title-content" style="width: 725px; height: 400px;"></div>
                                        </div>
                                    </div>
                                </div>
                            <div class="footer-part data-update-date" id="updateDateDatasetJCR">InCites Journal Citation Reports dataset updated Sep 02, 2016</div></div>
                        </div>
                        <!-- END: [EgoNetwork]-->
                        
                        <!-- START: [ChordNetwork]-->
                        <div class="l-column-content" id="section_chordNetwork" style="display:none;">
                            <div class="content-body">
                                <div class="block-data block-data-columns">
                                    <div class="block-data-column">
                                        <div class="tile"><i class="icon-i-dark" onclick="window.open(JCR_HELP_URLS.journalEgoNetworkHtml, &#39;help_window&#39;);" style="float: right;margin-right: 10px;"></i>
                                            <div class="tile-header"><h3>Journal Relationships</h3></div>
                                            <div id="chord" class="title-content" style="width: 715px; height: 600px;"></div>
                                        </div>
                                    </div>
                                </div>
                            <div class="footer-part data-update-date" id="updateDateDatasetJCR">InCites Journal Citation Reports dataset updated Sep 02, 2016</div></div>
                        </div>
                        <!-- END: [ChordNetwork]-->

                        <!-- START: [METRIC TREND GRAPH]-->
                        <div class="l-column-content" id="section_metricTrend" style="display:none;">
                            <div class="content-body">
                                <div class="block-data block-data-columns">
                                    <div class="block-data-column">
                                        <div class="tile"><i class="icon-i-dark" onclick="window.open(JCR_HELP_URLS.journalMetricTrendsHtml,&#39;help_window&#39;);" style="float: right;margin-right: 10px;"></i>
                                            <div class="tile-header"><h3>Metric Trend</h3></div>
                                            <div id="inner_metricTrend" style="width: 715px; height: 400px;"></div>
                                        </div>
                                    </div>
                                </div>
                            <div class="footer-part data-update-date" id="updateDateDatasetJCR">InCites Journal Citation Reports dataset updated Sep 02, 2016</div></div>
                        </div>
                        <!-- END: [METRIC TREND GRAPH]-->

                        <!-- START: [AGGREGATE CITED HALF-LIFE DATA]-->
                        <div class="l-column-content" id="section_aggCitedHalfLife" style="display:none;">
                            <div class="content-body">
                                <div class="block-data block-data-columns">
                                    <div class="block-data-column">
                                        <div class="tile"><i class="icon-i-dark" onclick="window.open(JCR_HELP_URLS.journalCitedHtml, &#39;help_window&#39;);" style="float: right;margin-right: 10px;margin-top: 5px;"></i>
                                            <div class="tile-header"><h3>Cited Half-Life Data</h3></div>
                                            <div id="journal_aggCitedHalfLife" style="width: 715px; height: 85px;"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="block-data block-data-columns">
                                    <div class="block-data-column">
                                        <div class="tile"><i class="icon-i-dark" onclick="window.open(JCR_HELP_URLS.journalCitedHtml, &#39;help_window&#39;);" style="float: right;margin-right: 10px;margin-top: 5px;"></i>
                                            <div class="tile-header"><h3>Cited Journal Graph</h3></div>
                                            <div id="journal_aggcitedGraph" style="width: 468px; height: 446px;"></div>
                                        </div>
                                    </div>
                                    <div class="block-data-column">
                                        <div class="block-text"><h3>Cited Half-Life</h3><h3></h3>
                                           <p>The Cited Journal Graph shows the distribution by cited year of citations to articles published in a journal.</p><h3></h3>
                                            <ul>
                                                <li><p>The white/grey division indicates the approximate position of the cited half-life (if &lt; 10.0). Half of the journal's cited articles were published more recently than the cited half-life.</p></li><h3></h3>
                                                <li><p>The top (gold or yellow) portion of each column indicates journal self-citations: citations to articles in the journal from articles in the same journal.</p></li>
                                                <li><p>The bottom (dark orange) portion of each column indicates non-self citations: citations to the journal from articles in other journals.</p></li>
                                                <li><p>The two light orange columns indicate citations used to calculate the Impact Factor (always the 2nd and 3rd columns)</p></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            <div class="footer-part data-update-date" id="updateDateDatasetJCR">InCites Journal Citation Reports dataset updated Sep 02, 2016</div></div>
                        </div>
                        <!-- END: [AGGREGATE CITED HALF-LIFE DATA]-->

                        <!-- START: [AGGREGATE CITING HALF-LIFE DATA]-->
                        <div class="l-column-content" id="section_aggCitingHalfLife" style="display:none;">
                            <div class="content-body">
                                <div class="block-data block-data-columns">
                                    <div class="block-data-column">
                                        <div class="tile"><i class="icon-i-dark" onclick="window.open(JCR_HELP_URLS.journalCitingHtml, &#39;help_window&#39;);" style="float: right;margin-right: 10px;margin-top: 5px;"></i>
                                            <div class="tile-header"><h3>Citing Half-Life Data</h3></div>
                                            <div id="journal_aggCitingHalfLife" style="width: 715px; height: 85px;"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="block-data block-data-columns">
                                    <div class="block-data-column">
                                        <div class="tile"><i class="icon-i-dark" onclick="window.open(JCR_HELP_URLS.journalCitingHtml, &#39;help_window&#39;);" style="float: right;margin-right: 10px;margin-top: 5px;"></i>
                                            <div class="tile-header"><h3>Citing Journal Graph</h3></div>
                                            <div id="journal_aggcitingGraph" style="width: 468px; height: 400px;"></div>
                                        </div>
                                    </div>
                                    <div class="block-data-column">
                                        <div class="block-text">
                                             <h3>Citing Half-Life</h3><h3></h3>
                                            <p>The Citing Journal Graph shows the distribution by cited year of citations from articles in the selected journal. All of the citing articles were published in the JCR year.</p><h3></h3>
                                            <li><p>The white/grey division indicates the citing half-life(if&lt; 10.0). Half of the citations from the journal's current articles are to articles published more recently than the citing half-life.</p></li>
                                            <li><p>The top (gold) portion of each column indicates journal self - citations: citations from articles in the journal to articles in the same journal.</p></li>
                                            <li><p>The bottom (dark orange) portion of each column indicates non-self-citations: citations from the journal to articles in other journals.</p></li>
                                        </div>
                                    </div>
									
                                </div>
                            <div class="footer-part data-update-date" id="updateDateDatasetJCR">InCites Journal Citation Reports dataset updated Sep 02, 2016</div></div>
                        </div>
                        <!-- END: [AGGREGATE CITING HALF-LIFE DATA]-->

                    </div>
               </div>
            </div>
        </div>
		<div id="popup" class="popup">
			<div class="popup-wrapper"></div>
		</div>
		
	<!--[if lte IE 8]>
        <script type="text/javascript" src="common/javascript/d3js/r2d3.js" charset="utf-8"></script>
        <script type="text/javascript" src="common/javascript/d3js/box.js"></script>
        <script type="text/javascript" src="common/javascript/d3js/journalBox.js"></script>
    <![endif]-->
    <!--[if gte IE 9]>
    <!-->
        <script type="text/javascript" src="./d3.js.download"></script>
        <script type="text/javascript" src="./d3.geom.js.download"></script>
        <script type="text/javascript" src="./d3.layout.js.download"></script>
        <script type="text/javascript" src="./box.js.download"></script>
        <script type="text/javascript" src="./journalBox.js.download"></script>
    <!--<![endif]-->
    <script type="text/javascript" src="./JournalProfile.js(3).download"></script>
    <script type="text/javascript" src="./MultiSelect.js.download"></script>

    <script type="text/javascript">
    $(".action-panel").addClass("detail");
    /*Taking Out Entire Journal Profile Report
     * var menu = $('.popup-action-content').html();
    var journalProfileExportBTN = '<li onClick="isReadyToExport()" style="cursor:pointer;"><a href="javascript:void(0);">Journal Profile Report</a></li>'
    menu = journalProfileExportBTN + menu;
    $('.popup-action-content').html(menu);*/
    function getJournalProfileExport(format) {
        if (format == "xlsx" || format == "CSV") {
            var grid = Ext.getCmp('journalProfileGrid2');
            var gridColumns = grid.columns;
            var urlCol = [];
            Ext.Array.each(gridColumns, function (col, index, all) {
                urlCol.push(col.dataIndex);
            });

            var abbrJournal = jcrStorage.abbrJournal;
            abbrJournal = abbrJournal.replace('+', '%2B');
            var journalTitle = document.getElementById("journalTitleData").innerHTML;
            journalTitle = journalTitle.replace('&', '%26');
            var sorter = grid.getStore().sorters.items[0];
            var sort = '%5B%7B%22property%22:%22' + sorter.property + '%22,%22direction%22:%22' + sorter.direction + '%22%7D%5D'.toString();

            var url = "";
            
            url = "ExportJournalProfileDataJson.action?firstGridHeaders=" + urlCol.join(",");
            url += '&firstGridTitle=Journal Profile: ' + encodeURIComponent(journalTitle);
            url += '&sortBy=' + sorter.property.toString();
            url += '&sortOrder=' + sorter.direction.toString();
            url += '&limit=0';
            url += '&abbrJournal=' + encodeURIComponent(jcrStorage.abbrJournal);
            url += '&edition=' + jcrStorage.journalEdition;
            url += '&exportComponent=JournalProfileGrid';

            if (format == "xlsx") url += '&fileFormat=' + 'Excel';
            else url += '&fileFormat=' + format.toLowerCase();

            window.open(url, '_blank');
            
        } else {
            if ($("#section_journalOverview").is(":visible")) {
                /* Ext.MessageBox.confirm('Confirm Download', 'Would you like to download the chart as an image?', function (choice) {
                        if (choice == 'yes') { */
                Ext.Ajax.request({
                    url: 'JcrlogEvent.action?',
                    params: {
                        type: 'jcr_activity_export'
                    }
                });
                var url = 'ExportJournalInfoDataJson.action?exportComponent=JournalInfoTab';
                url += '&secondGridHeaders=name,Articles,Reviews,Combined,Other';
                url += '&secondGridTitle=Journal Source Data';
                url += '&subTitle=Journal Profile: ' + encodeURIComponent(document.getElementById("journalTitleData").innerHTML);
                url += '&firstGridHeaders=Journal Information,value';
                url += '&abbrJournal=' + encodeURIComponent(jcrStorage.abbrJournal);
                url += '&edition=' + jcrStorage.journalEdition;
                url += '&jcrYear=' + jcrStorage.journalJcrYear;
                url += '&fileFormat=PDF';
                window.open(url, '_blank');
                /*}});*/
            } else if ($("#section_rank").is(":visible")) {
                /* Ext.MessageBox.confirm('Confirm Download', 'Would you like to download the chart as an image?', function (choice) {
                        if (choice == 'yes') { */
                Ext.Ajax.request({
                    method: 'POST',
                    url: 'ExportChartImages.action',
                    params: {
                        firstImage: Ext.getCmp('esiChart').save({
                            type: 'image/svg+xml'
                        })
                    },
                    /*headers: {
                        'Content-Type': 'application/json'
                    },*/
                    success: function () {
                        var jcrIFGrid = [];
                        var esiGridTC = [];
                        
                        Ext.Array.each(Ext.getCmp('jcrIFGrid').columns, function (col, index, all) {

                            if (col.dataIndex == "year") {
                                jcrIFGrid.push('jcrYear');
                            } else {
                            	
                            	jcrIFGrid.push(encodeURIComponent(col.dataIndex+'_Rank'));
                            	jcrIFGrid.push(encodeURIComponent(col.dataIndex+'_Quartile'));
                            	jcrIFGrid.push(encodeURIComponent(col.dataIndex+'_JIF Percentile'));
                            }
                        });
                        Ext.Array.each(Ext.getCmp('esiGridTC').columns, function (col, index, all) {
                            esiGridTC.push(escape(col.dataIndex));
                        });
                        var journalTitle = document.getElementById("journalTitleData").innerHTML;
                        //var jcrLink = Ext.getCmp('viewJCRYears').getEl().dom.innerHTML;
                        var esiLink = Ext.getCmp('viewEsiYears').getEl().dom.innerHTML;
                        var url = 'ExportRankDataJson.action?exportComponent=JournalRankTab';
                        url += '&firstGridHeaders=' + jcrIFGrid.join(':');
                        url += '&secondGridHeaders=' + esiGridTC.join(':');
                        url += '&firstGridTitle=Journal Citation Report : Impact factor';
                        url += '&secondGridTitle=Essential Science Indicators : Total Citations';
                        //url += '&firstImageTitle=Journal Citation Report : Impact factor Graph ';
                        url += '&subTitle=Journal Profile: ' + encodeURIComponent(journalTitle);
                        url += '&firstImageTitle=Essential Science Indicators : Total Citations Graph';
                        url += '&abbrJournal=' + encodeURIComponent(jcrStorage.abbrJournal);
                        url += '&edition=' + jcrStorage.journalEdition;
                        url += '&jcrYear=' + jcrStorage.journalJcrYear;
                        //url += '&dataMetric=' + jcrLink;
                        url += '&trendMetric=' + esiLink;
                        url += '&fileFormat=PDF'
                        window.open(url, '_blank');
                    },
                    failure: function () {}
                });
                /* }
                    }); */
            } else if ($("#section_aggCitedJournalData").is(":visible")) {
                /* Ext.MessageBox.confirm('Confirm Download', 'Would you like to download the chart as an image?', function (choice) {
                        if (choice == 'yes') { */
                Ext.Ajax.request({
                    method: 'POST',
                    url: 'ExportChartImages.action',
                    params: {
                        firstImage: Ext.getCmp('journalAggCitedGraph1').save({
                            type: 'image/svg+xml'
                        })
                    },
                    success: function () {
                        var journalCitedHLGrid = [];
                        var journalCitedGrid = [];

                        Ext.Array.each(Ext.getCmp('journalCitedHLGrid').columns, function (col, index, all) {
                            journalCitedHLGrid.push(col.dataIndex);
                        });
                        Ext.Array.each(Ext.getCmp('journalCitedGrid').columns, function (col, index, all) {
                            if (col.dataIndex == "") {
                                journalCitedGrid.push('sno');
                            } else if (col.dataIndex == "#journalsCited") {
                                journalCitedGrid.push('journalsCited');
                            } else if (col.dataIndex == "impact") {
                                journalCitedGrid.push('Impact');
                            } else {
                                journalCitedGrid.push(col.dataIndex);
                            }
                        });
                        var url = 'ExportCitedJournalDataJson.action?exportComponent=JournalCitedTab';
                        url += '&firstGridHeaders=' + journalCitedHLGrid.join(',');
                        url += '&secondGridHeaders=' + journalCitedGrid.join(',');
                        url += '&secondGridTitle=Cited Journal Data';
                        url += '&firstGridTitle=Cited Half-Life Data';
                        url += '&firstImageTitle=Cited Journal Graph';
                        url += '&subTitle=Journal Profile: ' + encodeURIComponent(jcrStorage.journalTitle);
                        url += '&sort=' + encodeURIComponent(Ext.getStore('citedJournalGridStoreId').sorters.items[0].property);
                        url += '&dir=' + Ext.getStore('citedJournalGridStoreId').sorters.items[0].direction;
                        url += '&abbrJournal=' + encodeURIComponent(jcrStorage.abbrJournal);
                        url += '&edition=' + jcrStorage.journalEdition;
                        url += '&jcrYear=' + jcrStorage.journalJcrYear;
                        url += '&fileFormat=PDF';
                        window.open(url, '_blank');
                    }
                });
                /* }
                    }); */
            } else if ($("#section_aggCitingJournalData").is(":visible")) {
                Ext.Ajax.request({
                    method: 'POST',
                    url: 'ExportChartImages.action',
                    params: {
                        firstImage: Ext.getCmp('journalAggCitingGraph').save({
                            type: 'image/svg+xml'
                        })
                    },
              
                    success: function () {
                        var citingHLGridColumns = [];
                        var citingGridColumns = [];

                        Ext.Array.each(Ext.getCmp('journalAggCitingHLGrid').columns, function (col, index, all) {
                            citingHLGridColumns.push(col.dataIndex);
                        });

                        Ext.Array.each(Ext.getCmp('journalCitingHLgrid').columns, function (col, index, all) {
                            if (col.dataIndex == "") {
                                citingGridColumns.push('sno');
                            } else if (col.dataIndex == "#journalsCiting") {
                                citedGridColumns.push('journalsCiting');
                            } else if (col.dataIndex == "impact") {
                                citingGridColumns.push('Impact');
                            } else {
                                citingGridColumns.push(col.dataIndex);
                            }

                        });
                        var url = 'ExportCitingJournalDataJson.action?exportComponent=JournalCitingTab';
                        url += '&firstGridHeaders=' + citingHLGridColumns.join(',');
                        url += '&secondGridHeaders=' + citingGridColumns.join(',');
                        url += '&firstGridTitle=Citing Half-Life Data';
                        url += '&secondGridTitle=Citing Journal Data';
                        url += '&firstImageTitle=Citing Journal Graph';
                        url += '&subTitle=Journal Profile: ' + encodeURIComponent(jcrStorage.journalTitle);
                        url += '&sort=' + encodeURIComponent(Ext.getStore('citingJournalGridStoreId').sorters.items[0].property);
                        url += '&dir=' + Ext.getStore('citingJournalGridStoreId').sorters.items[0].direction;
                        url += '&abbrJournal=' + encodeURIComponent(jcrStorage.abbrJournal);
                        url += '&edition=' + jcrStorage.journalEdition;
                        url += '&jcrYear=' + jcrStorage.journalJcrYear;
                        url += '&fileFormat=PDF';
                        window.open(url, '_blank');
                    }
                });
                /* }
                    }); */
            } else if ($("#section_journalBoxplot").is(":visible")) {
            	var xmlWrap = '<?xml version="1.0" standalone="yes"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">';
            	var boxPlot = '';
        		var boxPlots = document.getElementById('journalboxplot').contentDocument.getElementById("d3_journalBoxplot").innerHTML.split("</svg>");
        		for(i=0;i<boxPlots.length - 1;i++)
        		{
        			boxPlot += xmlWrap+boxPlots[i]+"</svg>";
        		}
        		//boxPlot = xmlWrap+document.getElementById('journalboxplot').contentDocument.getElementById("d3_journalBoxplot").innerHTML;
    			url += '&fifthImageTitle=Category Box Plot';
            	Ext.Ajax.request({
                    method: 'POST',
                    url: 'ExportChartImages.action',
                    params: {
                        fifthImage: boxPlot
                    },
                    success: function () {

                        var catname = document.getElementById("journalTitleData").innerHTML;
                        var journalTitle = '';
                        if (catname.indexOf('&') != -1) {
                            catname = catname.replace("&amp;", "&");
                        }
                        journalTitle = encodeURIComponent(catname);

                        var url = 'ExportJournalBoxPlotJson.action?exportComponent=JournalBoxplotTab&subTitle=Journal Profile: '
                            + journalTitle + '&imageTitle=Box Plot, Year: ' + jcrStorage.journalJcrYear + ' Edition: ' + jcrStorage.journalEdition;
                        url += '&fileFormat=PDF';
                        
                        window.open(url, '_blank');

                    },
                    failure: function () {
                        console.log("failure :(");
                    }
                });
                /* }
                    }); */
            } else if ($("#section_egoNetwork").is(":visible")) {
                Ext.Ajax.request({
                    method: 'POST',
                    url: 'ExportImageDataJson.action',
                    params: {
                        firstImage: Ext.select('#chart').elements[0].innerHTML
                    },
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    success: function () {
                        var journalTitle = document.getElementById("journalTitleData").innerHTML;
                        journalTitle = journalTitle.replace('&', '%26');
                        var url = 'ExportImageDataJson.action?exportComponent=JournalEgoNetworksTab&subTitle=Journal Profile: '
                        		+ journalTitle + '&imageTitle=Year: ' + jcrStorage.journalJcrYear + ' Edition: ' + jcrStorage.journalEdition;
                        url += '&fileFormat=PDF'
                        window.open(url, '_blank');
                    },
                    failure: function () {
                        console.log("failure :(");
                    }
                });
                /* }
                    }); */
            } else if ($("#section_chordNetwork").is(":visible")) {
            	var xmlWrap = '<?xml version="1.0" standalone="yes"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">';
            	var svg = '';
            	if(Ext.isIE || !!navigator.userAgent.match(/Trident.*rv[ :]*11\./)) //Checks to see if Browser is I
            	{
            		var html = $("#chordNetworkFrame").contents().find("#Many2Many").first().prop("innerHTML");
            		svg = html.split("</svg>")[0]+"</svg>";
            	}
            	else
            	{
            		var iFrameBody = document.getElementById('chordNetworkFrame').contentWindow.document.body;
            		svg = Ext.get(iFrameBody).select('#Many2Many').elements[0].children[0].outerHTML;
            	}
            	
                Ext.Ajax.request({
                    method: 'POST',
                    url: 'ExportChartImages.action',
                    params: {
                        firstImage: xmlWrap+svg
                    },
                    success: function () {
                    	var journalCitedGrid = [];
                    	var citingGridColumns = [];
                        var sorting = '';
                        var direction = '';
                        var journalTitle = document.getElementById("journalTitleData").innerHTML;
                        journalTitle = journalTitle.replace('&', '%26');
                        var url = 'ExportJournalRelationshipsDataJson.action?exportComponent=JournalchordNetworksTab&subTitle=Journal Profile: '
                                + journalTitle + '&imageTitle=Journal Relationships, Year: ' + jcrStorage.journalJcrYear + ' Edition: ' + jcrStorage.journalEdition;
                        
                    	if($('#chordNetworkFrame').contents().find('#dm_query').val() == 'cited data')
                    	{
                    		for(var i=0;i<15;i++)
                        	{
                        		if (i == 0) {
                        			journalCitedGrid.push('sno');
                        		} else if (i == 2) {
                        			journalCitedGrid.push('citingJournal');
                        		} else if (i == 1) {
                        			journalCitedGrid.push('Impact');
                        		} else if (i == 3){
                        			journalCitedGrid.push('allYrs');
                        		} else if (i == 14) {
                        			journalCitedGrid.push('rest');
                        		} else journalCitedGrid.push(jcrStorage.journalJcrYear - (i-4));
                        	}
                        	
                        	//default Sort and Dir
                        	sorting = 'allYrs';
                        	direction = 'DESC';
                        	
                            url += '&firstGridHeaders=' + journalCitedGrid.join(',');
                            url += '&firstGridTitle=Cited Journal Data';
                            url += '&sort=' + sorting;
                            url += '&dir=' + direction;
                            url += '&abbrJournal=' + encodeURIComponent(jcrStorage.abbrJournal);
                            url += '&edition=' + jcrStorage.journalEdition;
                            url += '&jcrYear=' + jcrStorage.journalJcrYear;
                            
                    	}
                    	else
                		{
                    		for(var i=0;i<15;i++)
                        	{
                        		if (i == 0) {
                        			citingGridColumns.push('sno');
                        		} else if (i == 2) {
                        			citingGridColumns.push('citedJournal');
                        		} else if (i == 1) {
                        			citingGridColumns.push('Impact');
                        		} else if (i == 3){
                        			citingGridColumns.push('allYrs');
                        		} else if (i == 14) {
                        			citingGridColumns.push('rest');
                        		} else citingGridColumns.push(jcrStorage.journalJcrYear - (i-4));
                        	}
                        	//default Sort and Dir
                        	sorting = 'allYrs';
                        	direction = 'DESC';
                        	
	                        url += '&firstGridHeaders=' + citingGridColumns.join(',');
	                        url += '&firstGridTitle=Citing Journal Data';
	                        url += '&sort=' + sorting;
	                        url += '&dir=' + direction;
	                        url += '&abbrJournal=' + encodeURIComponent(jcrStorage.abbrJournal);
	                        url += '&edition=' + jcrStorage.journalEdition;
	                        url += '&jcrYear=' + jcrStorage.journalJcrYear;
                		}
                    	
                        url += '&fileFormat=PDF';
                        window.open(url, '_blank');
                    },
                    failure: function () {
                        console.log("failure :(");
                    }
                });
            } else if ($("#section_metricTrend").is(":visible")) {
            	if(Ext.getCmp('journalMetricCitableTrendGraphId')===undefined || $('#journalMetricCitableTrendGraphId').length == 0)
        		{
            		image = 'journalMetricGraphId';
        		}
            	else 
        		{
            		image = 'journalMetricCitableTrendGraphId';
        		}
                Ext.Ajax.request({
                    method: 'POST',
                    url: 'ExportChartImages.action',
                    params: {
                        firstImage: Ext.getCmp(image).save({
                            type: 'image/svg+xml'
                        })

                    },
                    success: function () {
                        var journalTitle = document.getElementById("journalTitleData").innerHTML;
                        journalTitle = journalTitle.replace('&', '%26');
                        window.open('ExportImageDataJson.action?fileFormat=PDF&exportComponent=JournalMetricTab&subTitle=Journal Profile: '
                        		+ journalTitle + '&imageTitle=Metric Trend: ' + encodeURIComponent(jcrStorage.metricTrendtitle));
                    },
                    failure: function () {

                    }
                });
            } else if ($("#section_aggCitedHalfLife").is(":visible")) {
                Ext.Ajax.request({
                    url: 'JcrlogEvent.action?',
                    params: {
                        type: 'jcr_activity_export'
                    }
                });
                Ext.Ajax.request({
                    method: 'POST',
                    url: 'ExportChartImages.action',
                    params: {
                        firstImage: Ext.getCmp('journal_AggCitedGraph21').save({
                            type: 'image/svg+xml'
                        })
                    },
                    success: function () {
                        var journalCitedHLGrid = [];
                        var journalCitedGrid = [];
                        Ext.Array.each(Ext.getCmp('journalCitedHLGrid2').columns, function (col, index, all) {
                            journalCitedHLGrid.push(col.dataIndex);
                        });

                        var journalTitle = document.getElementById("journalTitleData").innerHTML;
                        journalTitle = journalTitle.replace('&', '%26');
                        var url = 'ExportCitedJournalDataJson.action?exportComponent=JournalHalfCitedTab';
                        url += '&firstGridHeaders=' + journalCitedHLGrid.join(',');
                        url += '&firstGridTitle=Cited Half-Life Data';
                        url += '&firstImageTitle=Cited Journal Graph';
                        url += '&subTitle=Journal Profile: ' + journalTitle;
                        url += '&abbrJournal=' + encodeURIComponent(jcrStorage.abbrJournal);
                        url += '&edition=' + jcrStorage.journalEdition;
                        url += '&jcrYear=' + Ext.getCmp('journalCitedHLGrid2').columns[1].dataIndex;
                        url += '&fileFormat=PDF';

                        window.open(url, '_blank');
                    }
                });
            } else if ($("#section_aggCitingHalfLife").is(":visible")) {
                Ext.Ajax.request({
                    url: 'JcrlogEvent.action?',
                    params: {
                        type: 'jcr_activity_export'
                    }
                });
                Ext.Ajax.request({
                    method: 'POST',
                    url: 'ExportChartImages.action',
                    params: {
                        firstImage: Ext.getCmp('journal_AggCitingGraph21').save({
                            type: 'image/svg+xml'
                        })
                    },
                    success: function () {
                        var journalCitedHLGrid = [];
                        var journalCitedGrid = [];
                        Ext.Array.each(Ext.getCmp('journalCitingHLGrid2').columns, function (col, index, all) {
                            journalCitedHLGrid.push(col.dataIndex);
                        });

                        var journalTitle = document.getElementById("journalTitleData").innerHTML;
                        journalTitle = journalTitle.replace('&', '%26');
                        var url = 'ExportCitingJournalDataJson.action?exportComponent=JournalHalfCitingTab';
                        url += '&firstGridHeaders=' + journalCitedHLGrid.join(',');
                        url += '&firstGridTitle=Citing Half-Life Data';
                        url += '&firstImageTitle=Citing Journal Graph';
                        url += '&subTitle=Journal Profile: ' + journalTitle;
                        url += '&abbrJournal=' + encodeURIComponent(jcrStorage.abbrJournal);
                        url += '&edition=' + jcrStorage.journalEdition;
                        url += '&jcrYear=' + Ext.getCmp('journalCitingHLGrid2').columns[1].dataIndex;

                        url += '&fileFormat=PDF';
                        window.open(url, '_blank');
                    }
                });
            } 
        }
    }
    
    function exportCitedData(format)
    {
    	//Export Cited Data grid in CSV or EXCEL
        var journalCitedGrid = [];
        var sorting = '';
        var direction = '';
        
      //If the User has not yet clicked on Journal Cited Grid
        if(Ext.getCmp('journalCitedGrid') == null)
        {
        	for(var i=0;i<15;i++)
        	{
        		if (i == 0) {
        			journalCitedGrid.push('sno');
        		} else if (i == 2) {
        			journalCitedGrid.push('citingJournal');
        		} else if (i == 1) {
        			journalCitedGrid.push('Impact');
        		} else if (i == 3){
        			journalCitedGrid.push('allYrs');
        		} else if (i == 14) {
        			journalCitedGrid.push('rest');
        		} else journalCitedGrid.push(jcrStorage.journalJcrYear - (i-4));
        	}
        	
        	//default Sort and Dir
        	sorting = 'allYrs';
        	direction = 'DESC';
        }
        else
        {
        	Ext.Array.each(Ext.getCmp('journalCitedGrid').columns, function (col, index, all) {
        		if (col.dataIndex == "") {
        			journalCitedGrid.push('sno');
        		} else if (col.dataIndex == "#journalsCited") {
        			journalCitedGrid.push('journalsCited');
        		} else if (col.dataIndex == "impact") {
        			journalCitedGrid.push('Impact');
        		} else {
        			journalCitedGrid.push(col.dataIndex);
        		}
        	});
        	
        	sorting = Ext.getStore('citedJournalGridStoreId').sorters.items[0].property;
        	direction = Ext.getStore('citedJournalGridStoreId').sorters.items[0].direction;
        }
        
        var url2 = "";
        
        url2 = 'ExportJournalCitedGridJson.action?exportComponent=JournalCitedTab';
        url2 += '&firstGridHeaders='  + journalCitedGrid.join(',');
        url2 += '&firstGridTitle=Cited Journal Data';
        url2 += '&firstImageTitle=Cited Journal Graph';
        url2 += '&subTitle=Journal Profile: ' + encodeURIComponent(jcrStorage.journalTitle);
        url2 += '&sort=' + encodeURIComponent(sorting);
        url2 += '&dir=' + direction;
        url2 += '&abbrJournal=' + encodeURIComponent(jcrStorage.abbrJournal);
        url2 += '&edition=' + jcrStorage.journalEdition;
        url2 += '&jcrYear=' + jcrStorage.journalJcrYear;

        if (format == "xlsx") url2 += '&fileFormat=' + 'Excel';
        else url2 += '&fileFormat=' + format.toLowerCase();

        window.open(url2, '_blank');
    }
    
    function exportCitingData(format)
    {
        var citingGridColumns = [];
        var sorting = '';
        var direction = '';

        //If the User has not yet clicked on Journal Citing Grid
        if(Ext.getCmp('journalCitingHLgrid') == null)
        {
        	for(var i=0;i<15;i++)
        	{
        		if (i == 0) {
        			citingGridColumns.push('sno');
        		} else if (i == 2) {
        			citingGridColumns.push('citedJournal');
        		} else if (i == 1) {
        			citingGridColumns.push('Impact');
        		} else if (i == 3){
        			citingGridColumns.push('allYrs');
        		} else if (i == 14) {
        			citingGridColumns.push('rest');
        		} else citingGridColumns.push(jcrStorage.journalJcrYear - (i-4));
        	}
        	//default Sort and Dir
        	sorting = 'allYrs';
        	direction = 'DESC';
        }
        else
        {
        	Ext.Array.each(Ext.getCmp('journalCitingHLgrid').columns, function (col, index, all) {
        		if (col.dataIndex == "") {
        			citingGridColumns.push('sno');
        		} else if (col.dataIndex == "#journalsCiting") {
        			citedGridColumns.push('journalsCiting');
        		} else if (col.dataIndex == "impact") {
        			citingGridColumns.push('Impact');
        		} else {
        			citingGridColumns.push(col.dataIndex);
        		}
        	});
        	
        	sorting = Ext.getStore('citingJournalGridStoreId').sorters.items[0].property;
        	direction = Ext.getStore('citingJournalGridStoreId').sorters.items[0].direction;
        }
        var url = 'ExportJournalCitingGridJson.action?exportComponent=JournalCitingTab';
        url += '&firstGridHeaders='  + citingGridColumns.join(',');
        url += '&firstGridTitle=Citing Journal Data';
        url += '&subTitle=Journal Profile: ' + encodeURIComponent(jcrStorage.journalTitle);
        url += '&sort=' + encodeURIComponent(sorting);
        url += '&dir=' + direction;
        url += '&abbrJournal=' + encodeURIComponent(jcrStorage.abbrJournal);
        url += '&edition=' + jcrStorage.journalEdition;
        url += '&jcrYear=' + jcrStorage.journalJcrYear;
        
        if (format == "xlsx") url += '&fileFormat=' + 'Excel';
        else url += '&fileFormat=' + format.toLowerCase();
        
        window.open(url, '_blank');
    }
    function exportJournalProfileReport()
    {
    	var xmlWrap = '<?xml version="1.0" standalone="yes"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">';
		var jcrIFGraph = null;
		var esiChart = null;
		var citedChart = null;
		var citingChart = null;
		var boxPlot = null;
		var chordNetworkChart = null;
		var jcrIFGrid = [];
		var esiGridTC = [];
		var journalCitedHLGrid = [];
		var journalCitedGrid = [];
		var citingHLGridColumns = [];
		var citingGridColumns = [];
		var journalTitle = document.getElementById("journalTitleData").innerHTML;
		var url = 'ExportJournalProfileReportJson.action?exportComponent=JournalProfileReportTab';
		url += '&firstGridHeaders=Journal Information,value';
		url += '&secondGridHeaders=name,Articles,Reviews,Combined,Other';
		url += '&secondGridTitle=Journal Source Data';
		url += '&subTitle=Journal Profile: ' + encodeURIComponent(journalTitle);
		
		if(Ext.getCmp('jcrIFGrid') != null)
    	{
			//var jcrLink = Ext.getCmp('viewJCRYears').getEl().dom.innerHTML;
			var esiLink = Ext.getCmp('viewEsiYears').getEl().dom.innerHTML;
    		//jcrIFGraph = Ext.getCmp('jcrIFGraph').save({type: 'image/svg+xml'});
			esiChart = Ext.getCmp('esiChart').save({type: 'image/svg+xml'});
			Ext.Array.each(Ext.getCmp('jcrIFGrid').columns, function (col, index, all) {
				if (col.dataIndex == "year") {
					jcrIFGrid.push('jcrYear');
				} else {
					jcrIFGrid.push(escape(col.dataIndex));
				}
			});
			Ext.Array.each(Ext.getCmp('esiGridTC').columns, function (col, index, all) {
				esiGridTC.push(escape(col.dataIndex));
			});
			url += '&thirdGridHeaders=' + jcrIFGrid.join(':');
            url += '&fourthGridHeaders=' + esiGridTC.join(':');
			url += '&thirdGridTitle=Journal Citation Report : Impact factor';
			url += '&fourthGridTitle=Essential Science Indicators : Total Citations';
			//url += '&firstImageTitle=Journal Citation Report : Impact factor Graph ';
			url += '&secondImageTitle=Essential Science Indicators : Total Citations Graph';
    	}
    	if(Ext.getCmp('journalCitedHLGrid') != null)
    	{
    		citedChart = Ext.getCmp('journalAggCitedGraph1').save({type: 'image/svg+xml'});
			Ext.Array.each(Ext.getCmp('journalCitedHLGrid').columns, function (col, index, all) {
				journalCitedHLGrid.push(col.dataIndex);
			});
			Ext.Array.each(Ext.getCmp('journalCitedGrid').columns, function (col, index, all) {
				if (col.dataIndex == "") {
					journalCitedGrid.push('sno');
				} else if (col.dataIndex == "#journalsCited") {
					journalCitedGrid.push('journalsCited');
				} else if (col.dataIndex == "impact") {
					journalCitedGrid.push('Impact');
				} else {
					journalCitedGrid.push(col.dataIndex);
				}
			});
			url += '&fifthGridHeaders=' + journalCitedHLGrid.join(',');
			url += '&sixthGridHeaders=' + journalCitedGrid.join(',');
			url += '&fifthGridTitle=Cited Half-Life Data';
			url += '&sixthGridTitle=Cited Journal Data';
			url += '&thirdImageTitle=Cited Journal';
    	}
    	if(Ext.getCmp('journalAggCitingHLGrid') != null)
    	{
    		citingChart = Ext.getCmp('journalAggCitingGraph').save({type: 'image/svg+xml'});
			Ext.Array.each(Ext.getCmp('journalAggCitingHLGrid').columns, function (col, index, all) {
				citingHLGridColumns.push(col.dataIndex);
			});
			Ext.Array.each(Ext.getCmp('journalCitingHLgrid').columns, function (col, index, all) {
				if (col.dataIndex == "") {
					citingGridColumns.push('sno');
				} else if (col.dataIndex == "#journalsCiting") {
					citedGridColumns.push('journalsCiting');
				} else if (col.dataIndex == "impact") {
					citingGridColumns.push('Impact');
				} else {
					citingGridColumns.push(col.dataIndex);
				}

			});
			url += '&seventhGridHeaders=' + citingHLGridColumns.join(',');
			url += '&eighthGridHeaders=' + citingGridColumns.join(',');
			url += '&seventhGridTitle=Citing Half-Life Data';
			url += '&eighthGridTitle=Citing Journal Data';
			url += '&fourthImageTitle=Citing Journal';
    	}
    	if(document.getElementById('journalboxplot') != null)
    	{
    		boxPlot = '';
    		var boxPlots = document.getElementById('journalboxplot').contentDocument.getElementById("d3_journalBoxplot").innerHTML.split("</svg>");
    		for(i=0;i<boxPlots.length - 1;i++)
    		{
    			boxPlot += xmlWrap+boxPlots[i]+"</svg>";
    		}
    		//boxPlot = xmlWrap+document.getElementById('journalboxplot').contentDocument.getElementById("d3_journalBoxplot").innerHTML;
			url += '&fifthImageTitle=Category Box Plot';
    	}
    	if(document.getElementById('chordNetworkFrame') != null)
    	{
			var iFrameBody = document.getElementById('chordNetworkFrame').contentWindow.document.body;
    		chordNetworkChart = xmlWrap+Ext.get(iFrameBody).select('#Many2Many').elements[0].children[0].outerHTML;
			url += '&sixthImageTitle=Journal Relationships';
    	}
		url += '&abbrJournal=' + encodeURIComponent(jcrStorage.abbrJournal);
		url += '&edition=' + jcrStorage.journalEdition;
		url += '&jcrYear=' + jcrStorage.journalJcrYear;
		//url += '&dataMetric=' + jcrLink;
		url += '&trendMetric=' + esiLink;
		url += '&sort=' + encodeURIComponent('allYrs');
		url += '&dir=DESC';
		url += '&fileFormat=PDF';
		Ext.Ajax.request({
            method: 'POST',
            url: 'ExportChartImages.action',
            params: {
                firstImage: jcrIFGraph,
                secondImage: esiChart,
                thirdImage: citedChart,
                fourthImage: citingChart,
				fifthImage: boxPlot,
				sixthImage: chordNetworkChart
		},
		success: function () {
			window.open(url, '_blank');
		},
		failure: function () {}
		});
    }
    function exportPDF() {
        getJournalProfileExport('PDF');
    }
    function exportCSV() {
    	var format = 'CSV';
    	exportMessageBox(format);
    }
    function exportXLS() {
    	var format = 'xlsx';	
    	exportMessageBox(format);
    }
    function isReadyToExport()
    {
    	var messageTabsNotClicked = '';
    	var messageTabsClicked = '';
    	var isReady = true;
    	if(Ext.getCmp('jcrIFGrid') == null)
    	{
    		messageTabsNotClicked+='Rank Data, ';
    		isReady = false;
    	}else messageTabsClicked += 'Rank Data, ';
    	
    	if(Ext.getCmp('journalCitedHLGrid') == null)
    	{
    		messageTabsNotClicked+='Cited Journal Data, ';
    		isReady = false;
    	}else messageTabsClicked += 'Cited Journal Data, ';
    	
    	if(Ext.getCmp('journalAggCitingHLGrid') == null)
    	{
    		messageTabsNotClicked+='Citing Journal Data, ';
    		isReady = false;
    	}else messageTabsClicked += 'Citing Journal Data, ';
    	
    	if(document.getElementById('journalboxplot') == null)
    	{
    		messageTabsNotClicked+='Box Plot, ';
    		isReady = false;
    	}else messageTabsClicked += 'Box Plot, ';
    	
    	if(document.getElementById('chordNetworkFrame') == null)
    	{
    		messageTabsNotClicked+='Journal Relationships, ';
    		isReady = false;
    	}else messageTabsClicked += 'Journal Relationships, ';
    	
    	if(isReady)
    	{
    		exportJournalProfileReport();
    	}
    	else{
    		var messageOutput = '';
	    	var btnText = '';
	    	if(messageTabsClicked =='' || messageTabsClicked == null)
	    	{
	    		btnText = {cancel:'Cancel'};
	    	}
	    	else 
	    	{
	    		messageOutput = 'Only ';
	        	messageOutput += messageTabsClicked +' will be exported. <br/><br/>';
	    		btnText = {yes:'Export',cancel:'Cancel'};
	    	}
	    	
	    	messageTabsClicked = messageTabsClicked.substring(0,messageTabsClicked.length - 2);
	    	messageTabsNotClicked  = messageTabsNotClicked.substring(0,messageTabsNotClicked.length - 2);
	    	messageOutput += messageTabsNotClicked +' will not be exported. <br/><br/>';
	    	messageOutput += 'If you wish to export this data, return to the Journal Report page. <br/> You must view those visualizations in order to export the data'
	    	
    		Ext.MessageBox.show({
    		title:    'Journal Profile Report', 
    		msg: messageOutput,
    		//buttons:  Ext.MessageBox.OKCANCEL,
    		buttonText: btnText,
    		fn: function(btn) {
    			if( btn == 'yes') {
    				exportJournalProfileReport();
    			}
    		}
    	});
    	}
    }
    function exportMessageBox(format)
    {
    	Ext.MessageBox.show({
    		title:    'Journal Grid Downloads', 
    		msg:      'Please select data to download by checking the boxes below.<br/><br/><input type="checkbox" name="journalProfileBox" id="journalProfileGridBox"/> Journal Profile Grid Data <br/>'
    			+'<input type="checkbox" name="journalCitingBox" id="journalCitingGridBox"/> Citing Journal Data <br/>'
    			+'<input type="checkbox" name="journalCitedBox" id="journalCitedGridBox"/> Cited Journal Data <br/>',
    		buttons:  Ext.MessageBox.OKCANCEL,
    		fn: function(btn) {
    			if( btn == 'ok') {
    				if (document.getElementById('journalProfileGridBox').checked){
    					getJournalProfileExport(format);
    				} 
    				if (document.getElementById('journalCitingGridBox').checked){
    					exportCitingData(format);
    				} 
    				if (document.getElementById('journalCitedGridBox').checked){
    					exportCitedData(format);
    				}
    			}
    		}
    	});
    }
    </script>

            <!--end content-->
            <!--Begin: footer -->
            


<!-- START: [FOOTER] -->
		     <div class="block-end-note">
		         <div class="l-wrapper-width">
		             <div class="end-note-title">Tell us what you think.</div>
		             <div class="end-note-content">Help us improve the Journal Citation Reports by providing your feedback!
		               <strong><a title="Provide your feedback" alt="Provide your feedback" target="_blank" href="http://www.surveygizmo.com/s3/1506740/Journal-Citation-Reports-2015">Click Here &gt;</a> </strong>
		             </div>
		         </div>
		     </div>
		     <div id="skip-to-footer" class="footer">
		         <div class="l-wrapper-width">
		            <div class="footerContent">
			            <ul class="in-cities">
			              <li><span>© 2017&nbsp;</span><a alt="Clarivate Analytics" title="Clarivate Analytics" target="_blank" href="http://clarivate.com/">Clarivate Analytics</a></li>
			              <li><a title="Terms of Use" alt="Terms of Use" target="_blank" href="http://wokinfo.com/terms/">Terms of Use</a></li>
			              <li><a title="Privacy Policy" alt="Privacy Policy" target="_blank" href="http://ip-science.thomsonreuters.com/privacy/incites">Privacy Policy</a></li>
			            </ul>
			          </div>
		         </div>
		     </div>
		 </div>
	</div>
<!-- END: [FOOTER] -->
  


            <!-- End: footer -->
        </div>
        <!-- end wrap-->
    
<div class="x-tip x-layer x-tip-default" id="ext-quicktips-tip" style="display: none;"><div class="x-tip-header x-header x-header-horizontal x-docked x-unselectable x-tip-header-default x-horizontal x-tip-header-horizontal x-tip-header-default-horizontal x-top x-tip-header-top x-tip-header-default-top x-docked-top x-tip-header-docked-top x-tip-header-default-docked-top" id="ext-quicktips-tip_header"><div id="ext-quicktips-tip_header-body" class="x-header-body x-tip-header-body x-tip-header-body-default x-tip-header-body-horizontal x-tip-header-body-default-horizontal x-tip-header-body-top x-tip-header-body-default-top x-tip-header-body-docked-top x-tip-header-body-default-docked-top x-box-layout-ct x-tip-header-body-default-horizontal x-tip-header-body-default-top x-tip-header-body-default-docked-top"><div id="ext-quicktips-tip_header-innerCt" class="x-box-inner " role="presentation"><div id="ext-quicktips-tip_header-targetEl" class="x-box-target"><div class="x-component x-header-text-container x-tip-header-text-container x-tip-header-text-container-default x-box-item x-component-default" unselectable="on" id="ext-quicktips-tip_header_hd"><span id="ext-quicktips-tip_header_hd-textEl" class="x-header-text x-tip-header-text" unselectable="on">&nbsp;</span></div></div></div></div></div><div id="ext-quicktips-tip-body" class="x-tip-body x-tip-body-default x-tip-body-default"><span id="ext-quicktips-tip-outerCt" style="display:table;"><div id="ext-quicktips-tip-innerCt" style="display:table-cell;height:100%;vertical-align:top;" class=""></div></span></div><div class="x-tip-anchor x-tip-anchor-top" id="ext-gen1024"></div></div></body></html>