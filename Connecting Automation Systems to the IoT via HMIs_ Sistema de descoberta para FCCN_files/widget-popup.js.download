(function(){var e=document.getElementById("plx-css-popup");if(!e){var p=document.head||document.getElementsByTagName("head")[0]||document.documentElement,e=document.createElement("link");e.setAttribute("id","plx-css-popup");e.setAttribute("type","text/css");e.setAttribute("rel","stylesheet");e.setAttribute("href","//d39af2mgp1pqhg.cloudfront.net/popup.css");p.appendChild(e)}})();
(function(){window.__plumX=window.__plumX||{};window.__plumX.widgets=window.__plumX.widgets||{};var e=__plumX.widgets;e.imageServiceUrl="//plumprint.plu.mx/image/v1/large";e.dataServiceUrl="//plumprint.plu.mx/widgets/v1";e.dataServiceUrlEl="//api.plu.mx/widget";e.staticImagesUrl="//d39af2mgp1pqhg.cloudfront.net/2e9971b1fdcd89dc49349f95aa214ae5/";e.isElsevier=!1})();
(function e$$0(p,n,h){function m(a,d){if(!n[a]){if(!p[a]){var f="function"==typeof require&&require;if(!d&&f)return f(a,!0);if(l)return l(a,!0);f=Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f;}f=n[a]={exports:{}};p[a][0].call(f.exports,function(f){var d=p[a][1][f];return m(d?d:f)},f,f.exports,e$$0,p,n,h)}return n[a].exports}for(var l="function"==typeof require&&require,g=0;g<h.length;g++)m(h[g]);return m})({1:[function(e,p,n){var h,m,l,g,a,d,f=function(b,c){return function(){return b.apply(c,
arguments)}},q=function(b,c){function a(){this.constructor=b}for(var f in c)k.call(c,f)&&(b[f]=c[f]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b},k={}.hasOwnProperty;m={socialMedia:"#13b7ea",citation:"#fd5704",usage:"#6dd54d",mention:"#f3c316",capture:"#c43bf3",background:"#6e1a62",ring:"#ffffff"};d={degToRad:function(b){return b*Math.PI/180},log2:function(b){return Math.log(b)/Math.LN2}};h={create:function(b){return(0<b.count?new h.NonEmptyAtom(b):new h.EmptyAtom(b)).serialize()}};
h.AtomBase=function(){function b(c){this.serialize=f(this.serialize,this);this.position=f(this.position,this);this.distance=f(this.distance,this);this.metric=c.metric;this.angle=c.angle;this.count=c.count;this.center=c.center}b.prototype.MIN_RADIUS=5;b.prototype.MAX_RADIUS=14;b.prototype.MIN_PADDING=5;b.prototype.MAX_PADDING=10;b.prototype.DISTANCE=14;b.prototype.isEmpty=function(){return null};b.prototype.radius=function(){return null};b.prototype.padding=function(){return null};b.prototype.distance=
function(){return this.DISTANCE+this.padding()};b.prototype.position=function(){var c,b,a;c=d.degToRad(this.angle);b=this.distance();a=Math.sin(c)*b+this.center.x;c=Math.cos(c)*b+this.center.y;return{x:a,y:c}};b.prototype.serialize=function(){var c;c=this.position();return{type:"atom",x:c.x,y:c.y,metric:this.metric,count:this.count,angle:this.angle,radius:this.radius(),distance:this.distance(),isEmpty:this.isEmpty()}};return b}();h.EmptyAtom=function(b){function c(){this.padding=f(this.padding,this);
this.radius=f(this.radius,this);return c.__super__.constructor.apply(this,arguments)}q(c,b);c.prototype.isEmpty=function(){return!0};c.prototype.radius=function(){return this.MIN_RADIUS-1};c.prototype.padding=function(){return this.MIN_PADDING-1};return c}(h.AtomBase);h.NonEmptyAtom=function(b){function c(){this.padding=f(this.padding,this);this.radius=f(this.radius,this);return c.__super__.constructor.apply(this,arguments)}q(c,b);c.prototype.isEmpty=function(){return!1};c.prototype.radius=function(){var c;
c=d.log2(this.count)+this.MIN_RADIUS;c>this.MAX_RADIUS&&(c=this.MAX_RADIUS);return c};c.prototype.padding=function(){var c;c=d.log2(this.count);c>this.MAX_PADDING&&(c=this.MAX_PADDING);return 1.3*c+this.MIN_PADDING};return c}(h.AtomBase);a=function(b){function c(b,a){this.generate=f(this.generate,this);this.controlPoints=f(this.controlPoints,this);this.mergePoints=f(this.mergePoints,this);this.serialize=f(this.serialize,this);this.serialize=f(this.serialize,this);c.__super__.constructor.call(this);
this.atoms=b;this.center=a;this.generate()}q(c,b);c.prototype.ANGLE_MOD=122;c.prototype.DIST_FACT=0.2;c.prototype.serialize=function(){var c;c=[].concat(this.path);c.type="shape";return c};c.prototype.serialize=function(){var c;c=[].concat(this.path);c.type="shape";return c};c.prototype.mergePoints=function(c){return[c.angle-125,c.angle+125].map(function(b){var a;a=d.degToRad(b);b=Math.sin(a)*c.radius+c.x;a=Math.cos(a)*c.radius+c.y;return{x:b,y:a}})};c.prototype.controlPoints=function(c){var b;b=
c.angle+180;return[b-this.ANGLE_MOD,b+this.ANGLE_MOD].map(function(c){return d.degToRad(c)}).map(function(b){return function(a){var f;f=Math.sin(a)*c.distance*b.DIST_FACT+b.center.x;a=Math.cos(a)*c.distance*b.DIST_FACT+b.center.y;return{x:f,y:a}}}(this))};c.prototype.generate=function(){var c,b,a,f,d,k,e,g,h,q;h=this.atoms.map(function(c){return function(b){return c.mergePoints(b)}}(this));c=this.atoms.map(function(c){return function(b){return c.controlPoints(b)}}(this));b=function(b){return c[b][0]};
k=function(b){return c[b][1]};a=function(c){return h[c][0]};g=function(c){return h[c][1]};e=this.atoms;f=d=0;for(e=e.length;d<e;f=++d)q=f+1>=this.atoms.length?0:f+1,0===f?this.start(g(f).x,g(f).y):this.line(g(f).x,g(f).y),this.cubic(k(f).x,k(f).y,b(q).x,b(q).y,a(q).x,a(q).y);return this.end()};return c}(function(){function b(){this.serialize=f(this.serialize,this);this.cubic=f(this.cubic,this);this.line=f(this.line,this);this.end=f(this.end,this);this.start=f(this.start,this);this.path=[]}b.prototype.start=
function(c,b){return this.path.push({type:"start",x:c,y:b})};b.prototype.end=function(){return this.path.push({type:"end"})};b.prototype.line=function(c,b){return this.path.push({type:"line",x:c,y:b})};b.prototype.cubic=function(c,b,a,f,d,k){return this.path.push({type:"cubic",cx1:c,cy1:b,cx2:a,cy2:f,x:d,y:k})};b.prototype.serialize=function(){var c;c=[];c.type="shape";c.concat(this.path);return c};return b}());g={create:function(b,c){return(new a(b,c)).serialize()}};e=function(){function b(c){this._createShape=
f(this._createShape,this);this._createAtoms=f(this._createAtoms,this);this.display_width=c.width||100;this.display_height=c.height||100;this.center={x:this.WIDTH/2,y:this.HEIGHT/2};this.order=this.METRICS.slice(0).reverse();this.step=360/this.METRICS.length}b.prototype.WIDTH=100;b.prototype.HEIGHT=100;b.prototype.METRICS=["usage","capture","mention","socialMedia","citation"];b.prototype["for"]=function(c){c=this._createAtoms(c);return[this._createShape(c)].concat(c)};b.prototype._createAtoms=function(c){var b,
a,f,d,k,e,g;b=[];g=this.order;f=d=0;for(k=g.length;d<k;f=++d)e=g[f],a=c[e]||0,b.push(h.create({metric:e,count:a,center:this.center,angle:this.step*(f-1)}));return b};b.prototype._createShape=function(c){return g.create(c,this.center)};return b}();l={atom:function(b,c){if(c.isEmpty)return b.circle({cx:c.x,cy:c.y,r:c.radius,fill:m.background,stroke:m.background});b.circle({cx:c.x,cy:c.y,r:c.radius,fill:m[c.metric],stroke:m.background});return b.circle({cx:c.x,cy:c.y,r:c.radius-1.5,fill:"none",stroke:m.ring,
strokeWidth:1.5})},shape:function(b,c){var a,f,d,k,e;d=b.path({fill:m.background,stroke:m.background,strokeWidth:0.9});k=[];a=0;for(f=c.length;a<f;a++)switch(e=c[a],e.type){case "start":k.push(d.start(e.x,e.y));break;case "end":k.push(d.close());break;case "line":k.push(d.line(e.x,e.y));break;case "cubic":k.push(d.cubic(e.cx1,e.cy1,e.cx2,e.cy2,e.x,e.y));break;default:k.push(void 0)}return k}};n=function(){function b(c){this.canvas=c;this.render=f(this.render,this)}b.prototype.render=function(c){var b,
a,f,d,k;k=[];b=0;for(a=c.length;b<a;b++)f=c[b],d=l[f.type],k.push(d(this.canvas,f));return k};return b}();e.Renderer=n;p.exports=e},{}],2:[function(e,p,n){var h,m,l=function(e,a){return function(){return e.apply(a,arguments)}};h=e("./resource");m=e("./statistics");e=function(){function e(a){this.handler=a;this._whenFail=l(this._whenFail,this);this._whenDone=l(this._whenDone,this);this.handleFail=l(this.handleFail,this);this.handleEmpty=l(this.handleEmpty,this);this.handleData=l(this.handleData,this);
this.fetch=l(this.fetch,this);this.stats=null}e.prototype.fetch=function(a){return h.artifact(a).done(this._whenDone).fail(this._whenFail)};e.prototype.handleData=function(){this.handler.stats(this.stats);return this.handler.callback.success()};e.prototype.handleEmpty=function(){this.handler.empty();return this.handler.callback.empty()};e.prototype.handleFail=function(){this.handler.fail();return this.handler.callback.fail()};e.prototype._whenDone=function(a){this.stats=m(a.statistics);return this.stats.isEmpty?
this.handleEmpty():this.handleData()};e.prototype._whenFail=function(a){return"NotFound"===a?this.handleEmpty():this.handleFail()};return e}();p.exports=e},{"./resource":13,"./statistics":14}],3:[function(e,p,n){var h,m,l,g,a,d=function(a,b){return function(){return a.apply(b,arguments)}},f=function(a,b){function c(){this.constructor=a}for(var f in b)q.call(b,f)&&(a[f]=b[f]);c.prototype=b.prototype;a.prototype=new c;a.__super__=b.prototype;return a},q={}.hasOwnProperty;l={"stroke-width":1,stroke:"black",
fill:"black"};g="http://www.w3.org/2000/svg";n=function(){function a(b){this.strokeWidth=d(this.strokeWidth,this);this.stroke=d(this.stroke,this);this.fill=d(this.fill,this);this.setAttr=d(this.setAttr,this);this.node=document.createElementNS(g,b)}a.prototype.setAttr=function(b,c){return this.node.setAttribute(b,null!=c?c:l[b])};a.prototype.fill=function(b){return this.setAttr("fill",b)};a.prototype.stroke=function(b){return this.setAttr("stroke",b)};a.prototype.strokeWidth=function(b){return this.setAttr("stroke-width",
b)};return a}();e=function(a){function b(c){b.__super__.constructor.call(this,c)}f(b,a);return b}(n);n=function(a){function b(c,a,f){b.__super__.constructor.call(this,a);c.appendChild(this.node);this.fill(f.fill);this.stroke(f.stroke);this.strokeWidth(f.strokeWidth)}f(b,a);return b}(n);m=function(a){function b(c,a){this.line=d(this.line,this);this.cubic=d(this.cubic,this);this.close=d(this.close,this);this.start=d(this.start,this);b.__super__.constructor.call(this,c,"path",a);this.path=[];this.started=
!1}f(b,a);b.prototype.start=function(c,b){this.path.push("M "+c+","+b);return this.started=!0};b.prototype.close=function(){this.path.push("Z");return this.setAttr("d",this.path.join(" "))};b.prototype.cubic=function(c,b,a,f,d,e){return this.path.push("C "+c+","+b+" "+a+","+f+" "+d+","+e)};b.prototype.line=function(c,b){return this.path.push("L "+c+","+b)};return b}(n);h=function(a){function b(c,a){this.position=d(this.position,this);this.radius=d(this.radius,this);b.__super__.constructor.call(this,
c,"circle",a);this.radius(a.r);this.position(a.cx,a.cy)}f(b,a);b.prototype.radius=function(b){return this.setAttr("r",b)};b.prototype.position=function(b,a){this.setAttr("cx",b);return this.setAttr("cy",a)};return b}(n);a=function(a){function b(c){this.circle=d(this.circle,this);this.path=d(this.path,this);b.__super__.constructor.call(this,"svg",c);this.setAttr("viewBox","0 0 100 100");this.setAttr("width",c.width);this.setAttr("height",c.height)}f(b,a);b.prototype.path=function(b){return new m(this.node,
b)};b.prototype.circle=function(b){return new h(this.node,b)};return b}(e);e={create:function(f){return new a(f)},supported:!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect};p.exports=e},{}],4:[function(e,p,n){p.exports=window.__plumX.widgets},{}],5:[function(e,p,n){var h,m,l,g,a,d;g=e("./loader").whenReady(function(a){return g=a});n=["div","ul","li","span","img"];e={};h=function(a,d){var e,b,c;b=g("<"+a+">");for(e in d)c=d[e],"text"===e?b.text(c):
"html"===e?b.html(c):b.attr(e,c);return b};m=function(a){return function(d){return h(a,d)}};l=0;for(a=n.length;l<a;l++)d=n[l],e[d]=m(d);e.a=function(a){return h("a",g.extend({target:"_blank"},a))};p.exports=e},{"./loader":8}],6:[function(e,p,n){var h,m,l,g,a,d,f=function(b,c){return function(){return b.apply(c,arguments)}},q=function(b,c){function a(){this.constructor=b}for(var f in c)k.call(c,f)&&(b[f]=c[f]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b},k={}.hasOwnProperty;
l=e("./loader");n=e("./config");g=e("./dom");h=l.whenReady(function(b){return h=b});m=n.dataServiceUrl+"/event";a=function(){var b;b=h("#plx-evt-trspt");return b.length?b:g.img({id:"plx-evt-trspt"}).css({display:"none"}).appendTo("body")};d=function(b){return a().attr({src:m+"?"+h.param(b)})};e=function(b){function c(){this._endHover=f(this._endHover,this);this._startHover=f(this._startHover,this);this._clearTimer=f(this._clearTimer,this);this.logEvent=f(this.logEvent,this);this.bindTo=f(this.bindTo,
this);return c.__super__.constructor.apply(this,arguments)}q(c,b);c.prototype.timeout=1E3;c.prototype.eventName="hover";c.prototype.bindTo=function(b){return b.on("mouseenter",this._startHover).on("mouseleave",this._endHover)};c.prototype.logEvent=function(){return this.log()};c.prototype._clearTimer=function(){if(this.timer)return clearTimeout(this.timer),this.timer=null};c.prototype._startHover=function(){this._clearTimer();return this.timer=setTimeout(this.logEvent,this.timeout)};c.prototype._endHover=
function(){return this._clearTimer()};return c}(function(){function b(b){this.options=b;this.log=f(this.log,this)}b.prototype.log=function(b){null==b&&(b={});return d(h.extend({event:this.eventName},this.options,b))};b.prototype.logEvent=function(){};return b}());p.exports={Hover:e}},{"./config":4,"./dom":5,"./loader":8}],7:[function(e,p,n){var h,m,l,g=function(a,d){return function(){return a.apply(d,arguments)}};l=function(a){var d,f;if(a){f=a.split(".").reverse();for(a=window[f.pop()];a&&(d=a[f.pop()]);)a=
d;return a}};m=function(a,d){return function(a,d){return a?function(){var e;if(e=l(a))return e(d.elem())}:function(){}}(a,d)};h=function(){return function(a){var d,f;this.handler=a;f=this.handler.callbacks;for(d in f)a=f[d],this[d]=m(a,this.handler)}}();e=function(){function a(a,f){this.placeholder=a;this.options=f;this.fail=g(this.fail,this);this.elem=g(this.elem,this);this.remove=g(this.remove,this);this.render=g(this.render,this);this.callbacks={success:this.options.onSuccess,empty:this.options.onEmpty,
fail:this.options.onFail};this.callback=new h(this)}a.prototype.render=function(a){a=this.renderer(a);this.placeholder.replaceWith(a);return this.placeholder=a};a.prototype.remove=function(){return this.placeholder.hide().removeClass()};a.prototype.elem=function(){return this.placeholder.get(0)};a.prototype.fail=function(){return this.remove()};return a}();p.exports=e},{}],8:[function(e,p,n){var h,m,l,g,a,d;h=null;l=[];d=function(){return h(document).ready(function(a){var d,e,b,c;c=[];e=0;for(b=l.length;e<
b;e++)d=l[e],c.push(d(a));return c})};m=function(a){return(document.head||document.getElementsByTagName("head")[0]||document.documentElement).appendChild(a)};a=function(a){var d;d=document.createElement("script");d.setAttribute("type","text/javascript");d.setAttribute("src",a);return d};n=function(){var f;f=a("//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js");f.readyState?f.onreadystatechange=function(){if("complete"===this.readyState||"loaded"===this.readyState)return g()}:f.onload=g;
return m(f)};e=function(a){a=a.split(".");return"1"!==a[0]?!1:8<=parseInt(a[1],10)?!0:!1};g=function(){h=window.jQuery.noConflict(!0);return d()};null!=window.jQuery&&e(window.jQuery.fn.jquery)?(h=window.jQuery,d()):n();p.exports={whenReady:function(a){return"undefined"!==typeof isReady&&null!==isReady?a(h):l.push(a)}}},{}],9:[function(e,p,n){e=function(){for(var e=[],m=0;64>m;)e[m]=0|4294967296*Math.abs(Math.sin(++m));return function(l){var g,a,d,f,q=[];l=unescape(encodeURI(l));for(var k=l.length,
b=[g=1732584193,a=-271733879,~g,~a],c=0;c<=k;)q[c>>2]|=(l.charCodeAt(c)||128)<<8*(c++%4);q[l=16*(k+8>>6)+14]=8*k;for(c=0;c<l;c+=16){k=b;for(f=0;64>f;)k=[d=k[3],(g=k[1]|0)+((d=k[0]+[g&(a=k[2])|~g&d,d&g|~d&a,g^a^d,a^(g|~d)][k=f>>4]+(e[f]+(q[[f,5*f+1,3*f+5,7*f][k]%16+c]|0)))<<(k=[7,12,17,22,5,9,14,20,4,11,16,23,6,10,15,21][4*k+f++%4])|d>>>32-k),g,a];for(f=4;f;)b[--f]=b[f]+k[f]}for(l="";32>f;)l+=(b[f>>3]>>4*(1^f++&7)&15).toString(16);return l}}();p.exports=e},{}],10:[function(e,p,n){n=e("./config");e=
e("./util");n.pageToken||(n.pageToken=e.guid());p.exports=n.pageToken},{"./config":4,"./util":17}],11:[function(e,p,n){var h,m,l,g,a,d,f,q,k,b;l=e("./print");h=e("./canvas");n=e("./loader");g=e("./util");m=e("./config");a=e("./dom");d=n.whenReady(function(b){return d=b});b=g.shortenKeys;k=function(b){var a,f;a={width:"100%",height:"100%"};f=new l(a);a=h.create(a);b=f["for"](b);(new l.Renderer(a)).render(b);return a.node};q=function(c){c=d.param(b(c));return a.img({src:m.imageServiceUrl+"?"+c})};f=
function(b){b=g.camelizeKeys(b);return h.supported?k(b):q(b)};f.empty=function(){return f({})};f["for"]=function(b){return f(b)};p.exports=f},{"./canvas":3,"./config":4,"./dom":5,"./loader":8,"./print":1,"./util":17}],12:[function(e,p,n){var h,m,l,g,a,d,f,q,k,b,c,s,r=function(b,a){return function(){return b.apply(a,arguments)}};n=e("./loader");d=e("./util");h=e("./config");b=e("./dom");a=e("./translation");c=n.whenReady(function(b){return c=b});m=["Usage","Captures","Mentions","Social Media","Citations"];
g={tiny:"tiny",small:"small",medium:"medium",large:"large","default":"large",defaultBadge:"small"};s=function(b){return function(b){return g[b]||g["default"]}}(this);q=d.categoryClass;k=function(a,c,f){var d,e,k,g;null==f&&(f=function(b){return b});d=q(a);g=b.div({"class":"ppp-title",text:f(a)});k=b.ul();for(e in c)a=c[e],k.append(b.li({"class":d}).append(b.span({"class":"ppp-label",text:f(e)+": "})).append(b.span({"class":"ppp-count",text:a})));return b.li({"class":d}).append(g).append(k)};f=function(){return b.div({"class":"ppp-branding"}).append(b.img({"class":"plx-logo",
src:h.staticImagesUrl+"plumx-inverse-logo.png"}))};l=function(){function d(b){this.hidePopup=r(this.hidePopup,this);this.showPopup=r(this.showPopup,this);this.repositionTopPopover=r(this.repositionTopPopover,this);this.positionPopover=r(this.positionPopover,this);this.maybeHidePopover=r(this.maybeHidePopover,this);this.leaveContainer=r(this.leaveContainer,this);this.enterContainer=r(this.enterContainer,this);this.leavePopover=r(this.leavePopover,this);this.enterPopover=r(this.enterPopover,this);this.events=
r(this.events,this);this.seeMore=r(this.seeMore,this);this.content=r(this.content,this);this.sizeClass=r(this.sizeClass,this);this.bubbleClass=r(this.bubbleClass,this);this.scaffold=r(this.scaffold,this);this.renderPopup="hidden"!==b.popup;this.href=b.href;this.dir=b.popup||"left";this.summary=b.summary;this.print=b.print;this.isBadge=b.badge;this.size=s(this.isBadge?"defaultBadge":b.size);this.appendBody=b.popover;this.noLink=b.noLink;this.themeClass=null;"themeClass"in b&&(this.themeClass=b.themeClass);
this.isEmpty=c.isEmptyObject(this.summary);this.translation=new a(b.lang);this.trans=function(b){return function(a){return b.translation.translate(a)}}(this);this.scaffold();this.events();b.hover.bindTo(this.container)}d.prototype.scaffold=function(){var a,d,e,k;k=b.div({"class":"PlumX-Popup"});d=b.div({"class":"ppp-container"});e=b.div({"class":"plx-print"}).append(this.print);e=this.noLink?b.a({"class":"plx-wrapping-print-link",href:"javascript:void(0)"}).append(e):b.a({"class":"plx-wrapping-print-link",
href:this.href}).append(e);d.addClass(this.sizeClass());d.append(e);this.isBadge&&(d.addClass("ppp-badge"),e.append("PlumX Metrics"));this.renderPopup&&(a=this.noLink?b.div({"class":this.bubbleClass()}).append(f()).append(this.content()):b.div({"class":this.bubbleClass()}).append(f()).append(this.content()).append(this.seeMore()),this.appendBody?c("body").append(a):d.append(a));this.container=d;this.bubble=a||!1;this.element=k.append(d);if(this.themeClass)return this.element=b.div({"class":this.themeClass}).append(k)};
d.prototype.bubbleClass=function(){return"ppp-pop ppp-pop-"+this.dir};d.prototype.sizeClass=function(){return"ppp-"+this.size};d.prototype.content=function(){var a,d,f,e,g;d=b.ul();f=0;for(e=m.length;f<e;f++)a=m[f],g=this.summary[a],c.isEmptyObject(g)||d.append(k(a,g,this.trans));this.isEmpty&&d.append(this.emptyMessage());return d};d.prototype.seeMore=function(){return b.a({href:this.href,text:this.trans("see details")})};d.prototype.emptyMessage=function(){return b.div({"class":"ppp-empty",text:this.trans("No metrics available.")})};
d.prototype.events=function(){if(this.renderPopup)return this.appendBody?(this.inContainer=this.inPopover=this.popoverPositioned=!1,this.bubble.on("mouseenter",this.enterPopover).on("mouseleave",this.leavePopover),this.container.on("mouseenter",this.enterContainer).on("mouseleave",this.leaveContainer)):this.container.on("mouseenter",this.showPopup).on("mouseleave",this.hidePopup)};d.prototype.enterPopover=function(){this.inPopover=!0;return this.bubble.fadeIn("fast")};d.prototype.leavePopover=function(){this.inPopover=
!1;return setTimeout(this.maybeHidePopover,250)};d.prototype.enterContainer=function(){this.inContainer=!0;this.positionPopover();return this.bubble.fadeIn("fast")};d.prototype.leaveContainer=function(){this.inContainer=!1;return setTimeout(this.maybeHidePopover,250)};d.prototype.maybeHidePopover=function(){if(!this.inPopover&&!this.inContainer)return this.bubble.fadeOut("fast")};d.prototype.positionPopover=function(){var b,a,c;if(!this.popoverPositioned)return c=this.container.offset(),b=c.left+
this.container.width()/2,a=c.top+this.container.height()/2,this.bubble.css(function(){switch(this.dir){case "left":return{left:c.left-175,top:a-60};case "right":return{left:c.left+this.container.width()+15,top:a-60};case "top":return setTimeout(this.repositionTopPopover,10),{left:-200};case "bottom":return{left:b-80,top:c.top+this.container.height()+15};default:return{left:c.left+this.container.width()+15,top:a-60}}}.call(this)),this.popoverPositioned=!0};d.prototype.repositionTopPopover=function(){var b,
a;a=this.container.offset();b=a.left+this.container.width()/2;return this.bubble.css({left:b-80,top:a.top-this.bubble.height()-15,bottom:"inherit"})};d.prototype.showPopup=function(){return this.bubble.fadeIn("fast")};d.prototype.hidePopup=function(){return this.bubble.fadeOut("fast")};return d}();p.exports=function(b){return(new l(b)).element}},{"./config":4,"./dom":5,"./loader":8,"./translation":16,"./util":17}],13:[function(e,p,n){var h,m,l,g,a,d,f,q,k,b,c=function(b,a){return function(){return b.apply(a,
arguments)}},s=[].indexOf||function(b){for(var a=0,c=this.length;a<c;a++)if(a in this&&this[a]===b)return a;return-1};g=e("./loader");m=e("./config");n=e("./util");k=e("./md5");q=g.whenReady(function(b){return q=b});h=m.dataServiceUrl;l={cache:!0,ifModified:!0,dataType:"jsonp"};f=function(b){return setTimeout(b,10)};d=function(){function b(){this.put=c(this.put,this);this.has=c(this.has,this);this.get=c(this.get,this);this.items=[]}b.prototype.get=function(b){return this.items[b]};b.prototype.has=
function(b){return 0<=s.call(this.items,b)};b.prototype.put=function(b,a){return this.items[b]=a};return b}();a=function(){function b(){this.emit=c(this.emit,this);this.unsubscribe=c(this.unsubscribe,this);this.subscribe=c(this.subscribe,this);this.publish=c(this.publish,this);this.subscribersForHash=c(this.subscribersForHash,this);this.addSubscriber=c(this.addSubscriber,this);this.hasSubscription=c(this.hasSubscription,this);this.store=new d;this.subscribers={}}b.prototype.hasSubscription=function(b,
a){return-1!==this.subscribersForHash(b).indexOf(a)};b.prototype.addSubscriber=function(b,a){return this.subscribersForHash(b).push(a)};b.prototype.subscribersForHash=function(b){var a;(a=this.subscribers)[b]||(a[b]=[]);return this.subscribers[b]};b.prototype.publish=function(b,a){this.store.has(b)||this.store.put(b,a);return this.emit(b)};b.prototype.subscribe=function(b,a){var c;this.hasSubscription(b,a)||this.addSubscriber(b,a);c=function(c){return function(){return c.unsubscribe(b,a)}}(this);
f(function(a){return function(){if(a.store.has(b))return a.emit(b)}}(this));return c};b.prototype.unsubscribe=function(b,a){var c,d;d=this.subscribersForHash(b);c=d.indexOf(a);if(-1===c)return!1;d.splice(c,1);return!0};b.prototype.emit=function(b){var a,c,d,f,e,k;f=this.subscribersForHash(b);e=[];for(c=f.length-1;0<=c;c+=-1)d=f[c],k=this.store.get(b),d&&k?(a=k.error_code)?e.push(d.reject(a)):e.push(d.resolve(k)):e.push(void 0);return e};return b}();b=function(b){return q.extend({},l,b)};e=function(a){return function(c){var d,
f,e,g,l;e=k(a+"---"+c.id+"---"+(c.site||""));c.useNewData&&(e=k(a+"---"+c.id+"---"+(c.site||"")+"---"+(c.numArtifacts||"")+"---"+(c.noStats||"")),delete c.widget,delete c.orientation,delete c.size,delete c.popup,delete c.badge,delete c.hideWhenEmpty);d="plum"+e;f=q.param(c);d=b({url:h+"/"+a+"?"+f,jsonpCallback:d});c.useNewData&&(d.url=m.dataServiceUrlEl+"/"+a+"?"+f,d.dataType="json",delete d.jsonpCallback);g=window.__plumX.widgets.responses.store;f=q.Deferred();f.id=Math.random();c.useNewData?(c=
!0,l=g.subscribersForHash(e),0!==l.length&&(c=!1),l=g.subscribe(e,f),f.always(l),c&&q.ajax(d).done(function(b,a,c){return g.publish(e,b)})):(l=g.subscribe(e,f),f.always(l),q.ajax(d).done(function(b,a,c){return g.publish(e,b)}));return f}};n.withGlobalNS("__plumX.widgets.responses",function(b){return b.store=new a});p.exports={artifact:e("artifact"),researcher:e("researcher"),group:e("group"),grant:e("grant")}},{"./config":4,"./loader":8,"./md5":9,"./util":17}],14:[function(e,p,n){var h,m,l,g,a,d,
f,q=function(a,b){return function(){return a.apply(b,arguments)}};l=function(a){var b,c,d,f,e;b={};c=0;for(f=a.length;c<f;c++)d=a[c],b[e=d.label]||(b[e]=0),d.count>b[d.label]&&(b[d.label]=d.count);return b};m=function(a){var b,c,d,f,e;b={};c=0;for(f=a.length;c<f;c++)d=a[c],b[e=d.label]||(b[e]=0),b[d.label]+=d.count;return b};g=function(a){var b;b=document.createElement("a");b.href=a;return b.hostname};f=function(a){var b;if(a.refId&&(b=g(a.refId)))a.label=b;return d(a)};d=function(a){var b;b={label:a.source+
" - "+a.label,count:a.count};a.link&&(b.link=a.link);return b};a=function(a){return({Twitter:f}[a.source]||d)(a)};h=function(){function d(b){this._isEmpty=q(this._isEmpty,this);this._total=q(this._total,this);this.details=q(this.details,this);this.summary=q(this.summary,this);this.aggrCounts=q(this.aggrCounts,this);this.data=b;this.isEmpty=this._isEmpty()}d.prototype.aggrCounts=function(){var b,a,d,f,e,g,k,h;d={};h=this.data;for(b in h){g=h[b];f=a=0;for(k=g.length;f<k;f++)e=g[f],a+=e.count;d[b]=a}return d};
d.prototype.summary=function(){var b,a,d,f;if(this.isEmpty)return{};f={};d=this.data;for(b in d)a=d[b],f[b]="Citations"===b?l(a):m(a);return f};d.prototype.details=function(){var b,c,d,f,e,g,k;if(this.isEmpty)return{};c={};k=this.data;for(b in k){e=k[b];c[b]=[];d=0;for(g=e.length;d<g;d++)f=e[d],c[b].push(a(f))}return c};d.prototype._total=function(){var b,a,d,f,e,g,k;k=0;g=this.data;for(b in g){f=g[b];a=0;for(e=f.length;a<e;a++)d=f[a],k+=d.count}return k};d.prototype._isEmpty=function(){return 0===
this._total()};return d}();p.exports=function(a){return new h(a)}},{}],15:[function(e,p,n){p.exports={es:{"Abstract Views":"Vistas de Resumen",Abstract:"Resumen","Affiliated Researchers":"Investigadores Afiliados",Article:"Art\u00edculo","Artifact Summary":"Resumen Productos de Investigaci\u00f3n",Audio:"Audio",Bibliography:"Bibliography","Blog Mentions":"Menciones Blog","Blog Post":"Comentarios de Blog",Blog:"Blog","Book Chapter":"Cap\u00edtulo de Libro",Book:"Libro",Bookmarks:"Marcadores",Brief:"Compendio",
Captures:"Capturas",Case:"Caso",Catalogue:"Cat\u00e1logo","Citation Indexes":"\u00cdndice de Citas",Citations:"Citas",Clicks:"Clics","Clinical Citations":"Citas Cl\u00ednicas","Clinical Trial":"Ensayo Cl\u00ednico",Code:"C\u00f3digo",Collaborators:"Colaboradores",Collection:"Coleci\u00f3n",Comments:"Comentarios","Conference Paper":"Memorias de Congresos",Correction:"Correcci\u00f3n","Data Set":"Conjunto de Datos","Data Views":"Vistas Apoyadas","Design/Architecture":"Dise\u00f1o / Arquitectura",Downloads:"Descargas",
"Economic Blog Mentions":"Mentciones Blogs Econ\u00f3micos","Exhibition/Event":"Exhibici\u00f3n/Evento","Expert Opinion":"Opini\u00f3n de Experto","Exports-Saves":"Exportados / Guardados",Favorites:"Favoritos",Figure:"Cifra","File Set":"Conjunto de Archivos",Followers:"Seguidores",Forks:"Conexiones","Forum Topics":"Conteo Temas Foro","Full Text Views":"Vistas Txt Completo",Gists:"Conteo Esencial","Government Document":"Documento de Gobierno",Grant:"Beca",Guideline:"Gu\u00eda","HTML Views":"Vistas HTML",
Holdings:"Acervo",Image:"Imagen",Interview:"Entrevista",Issue:"N\u00famero",Journal:"Publicaci\u00f3n",Letter:"Ensayo",Likes:"Me Gusta","Link-outs":"V\u00ednculos",Links:"Enlaces","Live Performance":"Presentaci\u00f3n en Vivo",Manuscript:"Manuscrito",Map:"Mapa",Media:"Medios",Mentions:"Menciones","Music Score":"Partitura Musical","News Mentions":"Menciones Noticias",News:"Noticias",Newsletter:"Bolet\u00edn Informativo","No metrics available.":"No hay m\u00e9tricas disponibles.","Online Course":"Curso en l\u00ednea",
Other:"Otro","PDF Views":"Vistas PDF",Paper:"Documento de Trabajo","Patent Citations":"Citas de Patentes",Patent:"Patentes",Plays:"Reproducciones",Policy:"Pol\u00edticas",Poster:"Afiche",Preprint:"Preimpresi\u00f3n",Presentation:"Presentaci\u00f3n",Project:"Proyecto",Ratings:"Clasificaci\u00f3n",Readers:"Lectores","Recent Artifacts":"Piezas de Investigaci\u00f3n Recientes",Recommendations:"Recomendaciones","Recorded Work":"Grabaci\u00f3n","Reference Entry":"Referencia",Report:"Informe",Researchers:"Investigadores",
Retraction:"Retracci\u00f3n",Review:"Cr\u00edticas","Sample Downloads":"Descarga del Ejemplo",Scores:"Calificaci\u00f3n",Shares:"Compartir","Social Media":"Redes Sociales",Speech:"Discurso",Standard:"Est\u00e1ndar",Subscribers:"Subscriptores",Syllabus:"Plan de Estudios","Textual Work":"Escrito","Thesis / Dissertation":"Tesis / Disertaci\u00f3n",Tweets:"Tuits",Unknown:"Desconocido",Usage:"Uso",Video:"Video",Views:"Vistas","Visual Arts":"Artes Visuales",Volume:"Volumen",Watchers:"Observadores","Web Page":"P\u00e1gina Web",
"Web Resource":"Recurso Web","see details":"Ver detalles","Brochure / Pamphlet":"Folleto / Panfleto",Commentary:"Comentario",Editorial:"Editorial","Research Proposal":"Propuesta de Investigaci\u00f3n","Technical Documentation":"Documento T\u00e9cnico","Code / Software":"C\u00f3digo / Software","Lecture / Presentation":"Presentaci\u00f3n","Learning Object":"objetos de aprendizaje","Research Artifact":"Pieza Investigativa"}}},{}],16:[function(e,p,n){var h,m;m=e("./stringLibrary");h="en";e=function(){function e(g,
a){this.language=null!=g?g:h;this.options=null!=a?a:{};this.stringLib=m;this.notDefaultLanguage=this.language!==h;this.stringLib.hasOwnProperty(h)||(this.stringLib[h]={});this}e.prototype.translate=function(e){return!this.notDefaultLanguage?e:this.dictionary().hasOwnProperty(e)&&this.dictionary()[e].length?this.dictionary()[e]:e};e.prototype.dictionary=function(){return this.stringLib.hasOwnProperty(this.language)?this.stringLib[this.language]:this.stringLib[h]};return e}();p.exports=e},{"./stringLibrary":15}],
17:[function(e,p,n){var h,m,l,g;g=e("./loader").whenReady(function(a){return g=a});m=function(a){a=a.split("&");a=g.map(a,function(a){return[a.split("=",2)]});a=g.grep(a,function(a){return"ebsco-client"!==a[0]});a=a[0];return{type:a[0],id:a[1]}};l=function(a){a=a.split("/");return{type:"plumx_id",id:a[a.length-1]}};h={globalNS:function(a,d){var f,e,g,b,c;f=window;c=a.split(".");e=0;for(g=c.length;e<g;e++)b=c[e],f[b]||(f[b]={}),f=f[b];d&&d(f);return f},hasGlobalNS:function(a){var d,f,e,g;d=window;
g=a.split(".");a=0;for(f=g.length;a<f;a++)if(e=g[a],e in d)d=d[e];else return!1;return!0},withGlobalNS:function(a,d){return h.hasGlobalNS(a)?!1:h.globalNS(a,d)},camelize:function(a){a=a.split(" ");a[0]=a[0].toLowerCase();return h.singularize(a.join(""))},singularize:function(a){return a.replace(/s$/,"")},camelizeKeys:function(a){var d,f,e,g;f={};for(d in a)g=a[d],e=h.singularize(h.camelize(d)),f[e]=g;return f},shortenKeys:function(a){var d,f,e;f={};for(d in a)e=a[d],f[d.substr(0,2)]=e;return f},chunk:function(a,
d){var f,e,g,b;b=[];g=Math.ceil(a.length/d);for(f=e=0;0<=g?e<g:e>g;f=0<=g?++e:--e)b.push(a.slice(f*d,(f+1)*d));return b},categoryClass:function(a){return"plx-"+h.singularize(h.camelize(a))},artifactIdFromUrl:function(a){a=a.split("?",2);return 1<a.length?m(a[1]):l(a[0])},isSitePrefixed:function(a){a=a.split("/");return-1!==["u","a","g","grant"].indexOf(a[4])},resourceIdFromUrl:function(a){var d;d=a.split("?");if(1<d.length)return d=d[1].split("="),a=d[0],d=d[1],{type:a,id:d};d=h.isSitePrefixed(a)?
5:4;d=a.split("/").slice(d).join(".");return{type:"plumx_id",id:d}},grantIdFromUrl:function(a){a=a.split("/");return{type:"plumx_id",id:a[a.length-1]}},guid:function(){var a,d;a=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};d=function(){return a()+a()};return[d(),a(),a(),a(),a(),d()+a()].join("-")},splitLabels:function(a){return function(a,f){null==f&&(f=function(a){return a});a=a.split(" - ");return 1===a.length?f(a[0]):2===a.length?[a[0],f(a[1])].join(" - "):f(a.join(" - "))}}(this),
handleThemeClass:function(a){var d;d=null;a=a.attr("class").match(/plum\-[^\s]*\-theme/);null!==a&&(d=a[0]);return d},sortObject:function(a){return Object.keys(a).sort().reduce(function(d,f){d[f]=a[f];return d},{})}};p.exports=h},{"./loader":8}],18:[function(e,p,n){var h,m,l=function(e,a){return function(){return e.apply(a,arguments)}};h=e("./util");n=function(e){return h.resourceIdFromUrl(e.href)};e=function(e){return h.grantIdFromUrl(e.href)};e=function(e){return{type:"plumx_id",id:e.href.split("/").pop()}};
m={artifact:function(e){return h.artifactIdFromUrl(e.href)},group:function(e){return e.gp?{type:"plumx_id",id:e.gp}:h.resourceIdFromUrl(e.href)},grant:e,researcher:n,person:n};e=function(){function e(a,d){this.placeholder=a;this.resourceType=d;this.getOptions=l(this.getOptions,this);this.getParams=l(this.getParams,this);this.widget=this.getOptions();this.request=this.getParams()}e.prototype.getParams=function(){var a,d,e,g;d=m[this.resourceType](this.widget);e=this.widget;for(a in e)g=e[a],d[a]=g;
d.ref=document.referrer;delete d.gp;return d};e.prototype.getOptions=function(){var a;a=h.sortObject(this.placeholder.data());a.href=this.placeholder.attr("href");return a};return e}();p.exports=e},{"./util":17}],19:[function(e,p,n){var h,m,l,g,a,d,f,q,k,b,c,s=function(a,b){return function(){return a.apply(b,arguments)}},r=function(a,b){function c(){this.constructor=a}for(var d in b)t.call(b,d)&&(a[d]=b[d]);c.prototype=b.prototype;a.prototype=new c;a.__super__=b.prototype;return a},t={}.hasOwnProperty;
l=e("./lib/loader");h=e("./lib/artifact");d=e("./lib/plumprint");f=e("./lib/popup");p=e("./lib/handler");k=e("./lib/util");g=e("./lib/widget_options");m=e("./lib/events");a=e("./lib/page_token");b=l.whenReady(function(a){return b=a});q=function(a){function c(){this.fail=s(this.fail,this);this.empty=s(this.empty,this);this.stats=s(this.stats,this);return c.__super__.constructor.apply(this,arguments)}r(c,a);c.prototype.renderer=f;c.prototype.stats=function(a){a={summary:a.summary(),print:d["for"](a.aggrCounts())};
return this.render(b.extend({},this.options,a))};c.prototype.empty=function(){var a;if(this.options.hideWhenEmpty)return this.remove();a={summary:{},print:d.empty()};return this.render(b.extend({},this.options,a))};c.prototype.fail=function(){return this.remove()};return c}(p);c=function(){return b(".plumx-plum-print-popup").each(function(){var c,d,e;c=b(this);d=new g(c,"artifact");d.request.widget="popup";d.request.pageToken=a;d.widget.hover=new m.Hover(d.request);d.request.useNewData=!1;e=k.handleThemeClass(c);
null!==e&&(d.request.useNewData=!0,d.widget.themeClass=e);c=new q(c,d.widget);return(new h(c)).fetch(d.request)})};k.withGlobalNS("__plumX.widgets.popup",function(a){a.wireUp=c;return l.whenReady(c)})},{"./lib/artifact":2,"./lib/events":6,"./lib/handler":7,"./lib/loader":8,"./lib/page_token":10,"./lib/plumprint":11,"./lib/popup":12,"./lib/util":17,"./lib/widget_options":18}]},{},[19]);
