(function(a){a(function(){ep.require(["ep/jqueryplugins/bididirfixer.js","ep/jqueryplugins/text-clear.js"],function(){var b=a("Form"),c=a('#SearchTerm1, input[id^="Searchbox"]'),h=8,f=10;var d=function(k){var j=ep.searchInfoDetails||null,m=[],l={};if(j){c.each(function(){m.push(a(this).val());});_.each(j.details,function(n){var o=_.indexOf(m,n.term);if(o>-1){l["f"+o]={type:j.type,details:_.omit(n,"term")};}});if(!_.isEmpty(l)){b.append("<input type='hidden' name='searchInfoDetails' value='"+JSON.stringify(l)+"'/>");}}if(k===""){k=a("#SearchButton").data("formsubmit").action;}if(k){b.attr("action",k);b.submit();return false;}};setTimeout(function(){a(".basic, .advanced").find("#SearchTerm1, #Searchbox1").focus();},10);c.attr("accesskey","2");function i(){try{c.bidiDirFixer();if(c.data("textclearinstance")){c.textClear("setPosition");}}catch(j){if(--h){setTimeout(i,f);f*=2;}}}i();a("[data-formsubmit]").on("click",function(k){var j=a(this).data("formsubmit").action;return d(j);}).addClass("rs_preserve");var e=(a.browser.msie)?"keydown paste change":"keyup change";var g=(a.browser.msie)?50:1;c.on(e,function(l){var k=this;if(a.browser.msie&&parseInt(a.browser.version,10)<9){if(l.keyCode===13){var j=a("[data-formsubmit]").data("formsubmit").action;return d(j);}}setTimeout(function(){a(k).bidiDirFixer();if(a(k).data("textclearinstance")){a(k).textClear("setPosition");}},g);return true;});a("[data-formreset]").on("click",function(k){if(a(this).is("[type=submit]")){var j=a("#ResetButton").data("formreset").action;if(j){b.attr("action",j);b.submit();return false;}}}).addClass("rs_preserve");a("#ClearButton").on("click",function(){var l=ep.utilities.buildAjaxRequestPath("Search/Clear");a.ajax({type:"post",url:l});var k=a("#findFieldOuter");var j=k.find("[data-clear]");k.find("[data-remove]").remove();j.each(function(n,m){var o=a(m).data("clear");if(a(m).is("[type=text]")){a(m).attr("value",o).trigger("change");}if(a(m).is("textarea")){a(m).attr("value",o).trigger("change");}if(a(m).is("[type=radio]")){if(o==="checked"){a(m).prop("checked",o);}}if(a(m).is("[data-dropdown]")){a(m).find('input[type="radio"]').first().click();}if(a(m).is("[type=checkbox]")){if(o==="checked"){a(m).attr("checked",o);}else{a(m).removeAttr("checked");}}if(a("#runSmartTextSearchingPopup").length){a(".ui-icon").trigger("click");}});c.first().focus();}).addClass("rs_preserve");});});})(jQuery);